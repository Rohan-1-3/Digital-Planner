(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var n=o.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"1f757ac1762962d60ddc.png",o=e.p+"d367d5dbff6ca8e7e2f2.png",n=e.p+"df3b5dddd60da7069980.png",r=e.p+"d746fdde6c6bcecb1e30.png",l=e.p+"fe50e1a3f0405d606b0c.png",c=e.p+"cfabfc38136dc55a9a0d.png",s=document.querySelector(".edit-task-form"),a=document.querySelector(".main-container"),d=document.querySelector(".edit-name"),i=document.querySelector(".edit-date"),u=document.querySelector(".edit-type"),m=document.querySelector(".edit-task-button"),p=()=>{document.querySelectorAll(".edit-icon").forEach((e=>{e.addEventListener("click",(()=>{e.classList.remove("event");const t=e.parentNode.parentNode.children[0].textContent,o=t.split(" ");d.value=o.splice(0,o.length-1).join(" "),i.value=(new Date).toJSON().slice(0,10),s.classList.add("adding"),a.classList.add("show"),m.addEventListener("click",(e=>{e.preventDefault(),(e=>{for(let t=0;t<g.length;t+=1){const o=document.querySelector(".task-list").children[0];if(e.toLowerCase()===g[t].title.toLowerCase())return g[t].title=`${d.value} (${o.textContent})`,g[t].date=i.value,g[t].type=u.value,console.log(g),z(),!0}})(t),s.classList.remove("adding"),a.classList.remove("show")}))}))}))},g=[];for(let e=0;e<localStorage.length;e+=1)g.push(JSON.parse(localStorage.getItem(e)));const h=()=>{const e=document.querySelector(".tasks"),t=document.querySelector(".bg-image");e.childElementCount>1?t.src=l:1===e.childElementCount&&(t.src=c)},v=class{constructor(e,t,o,n,r){this.project=e,this.title=t,this.date=o,this.type=n,this.status=r}addingNewTask(){const e=document.querySelector(".tasks"),t=document.createElement("div");t.classList.add("task");const l=document.createElement("p");l.textContent=this.title;const c=document.createElement("p");c.textContent=this.date;const s=document.createElement("p");s.textContent=this.type;const a=document.createElement("div");a.classList.add("task-option");const d=new Image;d.src=n;const i=new Image;i.src=o;const u=new Image;u.classList.add("edit-icon"),u.src=r,"complete"===this.status&&t.classList.add("complete"),e.appendChild(t),t.appendChild(l),t.appendChild(c),t.appendChild(s),t.appendChild(a),a.appendChild(d),a.appendChild(i),a.appendChild(u),h(),d.addEventListener("click",(()=>{const e=d.parentNode.parentNode.children[0].textContent;for(let t=0;t<g.length;t+=1)e===g[t].title&&("complete"===g[t].status?g[t].status="incomplete":"incomplete"===g[t].status&&(g[t].status="complete"));d.parentNode.parentNode.classList.toggle("complete")})),i.addEventListener("click",(()=>{const e=i.parentNode.parentNode.children[0].textContent;for(let t=0;t<g.length;t+=1)if(e===g[t].title)if(g.splice(t,1),t===localStorage.length-1)localStorage.removeItem(t);else{for(let e=t;e<localStorage.length;e+=1)localStorage.setItem(e,localStorage.getItem(e+1));localStorage.removeItem(localStorage.length-1)}i.parentNode.parentNode.remove(),h()}))}};function S(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e){S(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===f(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function w(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var L={};function k(){return L}function C(e,t){var o,n,r,l,c,s,a,d;S(1,arguments);var i=k(),u=w(null!==(o=null!==(n=null!==(r=null!==(l=null==t?void 0:t.weekStartsOn)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(s=c.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:i.weekStartsOn)&&void 0!==n?n:null===(a=i.locale)||void 0===a||null===(d=a.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==o?o:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=y(e),p=m.getDay(),g=(p<u?7:0)+p-u;return m.setDate(m.getDate()-g),m.setHours(0,0,0,0),m}function q(e,t,o){S(2,arguments);var n=C(e,o),r=C(t,o);return n.getTime()===r.getTime()}function N(e,t){return S(2,arguments),q(e,t,{weekStartsOn:1})}const E=document.querySelector(".tasks"),b=document.querySelector(".task-list").children[0],j=document.querySelector(".add-task"),x=()=>{document.querySelectorAll(".edit-icon").forEach((e=>{e.classList.add("event")}))},D=document.querySelector(".new-project"),T=document.querySelector(".project-form"),I=document.querySelector(".add-button"),O=document.querySelector(".new-projects"),A=document.querySelector(".cancle-button"),J=document.querySelector(".tasks"),P=[];for(let e=0;e<localStorage.length;e+=1){const t=JSON.parse(localStorage.getItem(e)).project;"casual"!==t.toLowerCase()&&P.push(t)}const $=[...new Set(P)],z=()=>{for(;J.childElementCount>1;)J.lastChild.remove();const e=document.querySelector(".task-list").children[0].textContent;for(let t=0;t<g.length;t+=1)e===g[t].project&&new v(g[t].project,g[t].title,g[t].date,g[t].type,g[t].status).addingNewTask();h(),p()},B=()=>{const e=document.querySelectorAll("#project"),t=document.querySelector(".task-list");e.forEach((e=>{e.addEventListener("click",(()=>(j.classList.remove("hide"),t.childNodes[1].textContent!==e.textContent&&(t.childNodes[1].textContent=e.textContent,z(),0))))}))},M=class{constructor(e){this.title=e}addProject(){const e=document.createElement("div");e.classList.add("new-project-title"),O.insertBefore(e,O.children[O.childElementCount-1]);const n=new Image;n.src=t,e.appendChild(n);const r=document.createElement("button");r.id="project",r.textContent=this.title,e.appendChild(r);const l=document.querySelector(".task-list");l.childNodes[1].textContent=this.title,z();const c=new Image;return c.src=o,e.appendChild(c),T.classList.remove("show"),j.classList.remove("hide"),c.addEventListener("click",(()=>{const e=c.parentNode.children[1].textContent;if(1===J.childElementCount)c.parentNode.remove(),l.childNodes[1].textContent="Casual",z();else{for(let t=0;t<=g.length;t+=1)if(e===g[t].project)if(g.splice(t,1),t===localStorage.length-1)localStorage.removeItem(t);else{for(let e=t;e<localStorage.length;e+=1)localStorage.setItem(e,localStorage.getItem(e+1));localStorage.removeItem(localStorage.length-1)}for(let t=0;t<=$.length;t+=1)e===$[t]&&$.splice(t,1);c.parentNode.remove(),l.childNodes[1].textContent="Casual",z()}})),B(),0}};(()=>{const e=document.querySelector(".menu"),t=document.querySelector(".projects"),o=document.querySelector(".task-list"),n=document.querySelector(".tasks"),r=document.querySelector(".task"),l=document.querySelector(".add-task"),c=document.querySelector(".vertical"),s=document.querySelector(".horizontol"),a=document.querySelector(".add-task-form");o.children[0].textContent="Casual",e.addEventListener("click",(()=>{O.childElementCount>2&&document.querySelectorAll(".new-project-title").forEach((e=>{e.classList.toggle("show")})),e.classList.toggle("change"),t.classList.toggle("show"),o.classList.toggle("show"),a.classList.toggle("show"),T.classList.remove("show"),n.classList.toggle("show"),r.classList.toggle("show")})),l.addEventListener("click",(()=>{c.classList.toggle("adding"),s.classList.toggle("adding"),a.classList.toggle("adding"),e.parentNode.parentNode.classList.add("show"),document.querySelector(".form-date").value=(new Date).toJSON().slice(0,10)})),document.querySelector(".all-task").addEventListener("click",(()=>{for(j.classList.remove("hide"),j.classList.add("hide");E.childElementCount>1;)E.lastChild.remove();b.textContent="All Task";for(let e=0;e<g.length;e+=1)new v(g[e].project,g[e].title,g[e].date,g[e].type,g[e].status).addingNewTask();h(),x()})),document.querySelector(".today").addEventListener("click",(()=>{for(j.classList.remove("hide"),j.classList.add("hide");E.childElementCount>1;)E.lastChild.remove();b.textContent="Today";const e=(new Date).toJSON().slice(0,10);for(let t=0;t<g.length;t+=1)e===g[t].date&&new v(g[t].project,g[t].title,g[t].date,g[t].type,g[t].status).addingNewTask();h(),x()})),document.querySelector(".this-week").addEventListener("click",(()=>{for(j.classList.remove("hide"),j.classList.add("hide");E.childElementCount>1;)E.lastChild.remove();b.textContent="This Week";const e=(new Date).toJSON().slice(0,10);for(let t=0;t<g.length;t+=1){const o=g[t].date.split("-"),n=e.split("-");N(new Date(n[0],n[1],n[2]),new Date(o[0],o[1],o[2]))&&new v(g[t].project,g[t].title,g[t].date,g[t].type,g[t].status).addingNewTask()}h(),x()}))})(),B(),(()=>{for(let e=0;e<g.length;e+=1){const t=new v(g[e].project,g[e].title,g[e].date,g[e].type,g[e].status);"casual"===g[e].project.toLowerCase()&&t.addingNewTask()}})(),D.addEventListener("click",(()=>{T.classList.add("show")})),I.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".projectAddPopup");if(""===t.value)return!1;for(let e=0;e<$.length;e+=1)if(t.value.toLowerCase()===$[e])return t.style.borderColor="red",!1;return new M(t.value).addProject(),$.push(t.value.toLowerCase()),console.log($),t.value="",0})),A.addEventListener("click",(e=>{const t=document.querySelector(".projectAddPopup");e.preventDefault(),T.classList.remove("show"),t.value=""})),(()=>{for(let e=0;e<$.length;e+=1)new M($[e]).addProject(),document.querySelectorAll(".new-project-title").forEach((e=>{e.classList.add("show")}))})(),(()=>{const e=document.querySelector(".add-task-button"),t=document.querySelector(".cancel-task-button"),o=document.querySelector(".vertical"),n=document.querySelector(".horizontol");e.addEventListener("click",(e=>{e.preventDefault(),(()=>{const e=document.querySelector(".form-name"),t=document.querySelector(".form-date"),o=document.querySelector(".form-type"),n=document.querySelector(".task-list").children[0].textContent,r=`${e.value} (${n})`,l=t.value,c=o.value;if(""===e.value)return alert("Enter some Task Name"),!1;for(let e=0;e<g.length;e+=1)if(r.toLowerCase()===g[e].title.toLowerCase())return alert("Task Already Exists"),!1;const s=new v(n,r,l,c,"incomplete");s.addingNewTask(),g.push(s),localStorage.setItem(localStorage.length,JSON.stringify(s)),e.value="",t.value=(new Date).toJSON().slice(0,10),o.value="Normal"})(),p(),document.querySelector(".add-task-form").classList.remove("adding"),o.classList.remove("adding"),n.classList.remove("adding"),document.querySelector(".main-container").classList.remove("show")})),t.addEventListener("click",(e=>{e.preventDefault(),o.classList.remove("adding"),n.classList.remove("adding"),document.querySelector(".main-container").classList.remove("show"),t.parentNode.parentNode.parentNode.classList.remove("adding")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WSxXQUFFM0osVUFBVUMsT0FBTyxTQUFTLEdBQ3JGLEVXbkxMb0ssRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vdG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvbW9kdWxlcy9lZGl0VGFza0RldGFpbHMuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvbW9kdWxlcy90YXNrQWRkLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vdG9EYXRlL2luZGV4LmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL3RvSW50ZWdlci9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9kZWZhdWx0T3B0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZldlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzU2FtZVdlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzU2FtZUlTT1dlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvbW9kdWxlcy90aW1lV2lzZVRhc2tzLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9tb2R1bGVzL2luaXRpYWxET00uanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tY3ljbGUgKi9cclxuaW1wb3J0IHsgcHJvamVjdHNBcnJheSB9IGZyb20gXCIuL3Rhc2tBZGRcIjtcclxuaW1wb3J0IHsgYWRkaW5nVGFza1RvQ3VycmVudFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0XCI7XHJcblxyXG5cclxuY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtdGFzay1mb3JtXCIpO1xyXG5jb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTsgICAgIFxyXG5jb25zdCBlZGl0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1uYW1lXCIpO1xyXG5jb25zdCBlZGl0RGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1kYXRlXCIpO1xyXG5jb25zdCBlZGl0VHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC10eXBlXCIpO1xyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LXRhc2stYnV0dG9uXCIpO1xyXG5cclxuY29uc3QgZWRpdGluZ0RldGFpbHMgPSAob2xkTmFtZSk9PntcclxuICAgIGZvcihsZXQgaT0wO2k8cHJvamVjdHNBcnJheS5sZW5ndGg7aSs9MSl7XHJcbiAgICAgICAgY29uc3QgdGFza1Byb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWxpc3RcIikuY2hpbGRyZW5bMF07XHJcblxyXG4gICAgICAgIGlmKG9sZE5hbWUudG9Mb3dlckNhc2UoKSA9PT0gcHJvamVjdHNBcnJheVtpXS50aXRsZS50b0xvd2VyQ2FzZSgpKXtcclxuICAgICAgICAgICAgcHJvamVjdHNBcnJheVtpXS50aXRsZSA9IGAke2VkaXROYW1lLnZhbHVlfSAoJHt0YXNrUHJvamVjdE5hbWUudGV4dENvbnRlbnR9KWA7XHJcbiAgICAgICAgICAgIHByb2plY3RzQXJyYXlbaV0uZGF0ZSA9IGVkaXREYXRlLnZhbHVlO1xyXG4gICAgICAgICAgICBwcm9qZWN0c0FycmF5W2ldLnR5cGUgPSBlZGl0VHlwZS52YWx1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvamVjdHNBcnJheSlcclxuXHJcbiAgICAgICAgICAgIGFkZGluZ1Rhc2tUb0N1cnJlbnRQcm9qZWN0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5cclxuY29uc3QgZWRpdFRhc2sgPSAoKT0+e1xyXG4gICAgY29uc3QgZWRpdEljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LWljb25cIik7XHJcbiAgICBlZGl0SWNvbnMuZm9yRWFjaCgoZWRpdEljb24pPT57XHJcbiAgICAgICAgZWRpdEljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT57XHJcbiAgICAgICAgICAgIGVkaXRJY29uLmNsYXNzTGlzdC5yZW1vdmUoXCJldmVudFwiKTtcclxuICAgICAgICAgICAgY29uc3Qgb2xkTmFtZSA9ICgoZWRpdEljb24ucGFyZW50Tm9kZSkucGFyZW50Tm9kZSkuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZE5hbWVBcnJheSA9IG9sZE5hbWUuc3BsaXQoXCIgXCIpOyBcclxuICAgICAgICAgICAgLy8gcmVtb3ZpbmcgdGhlIHByb2plY3QgbmFtZSBmcm9tIHRoZSB0YXNrIG5hbWVcclxuICAgICAgICAgICAgZWRpdE5hbWUudmFsdWUgPSBvbGROYW1lQXJyYXkuc3BsaWNlKDAsIG9sZE5hbWVBcnJheS5sZW5ndGgtMSkuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgIGVkaXREYXRlLnZhbHVlID0gbmV3IERhdGUoKS50b0pTT04oKS5zbGljZSgwLDEwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGZvcm0gc2hvd3MgdXAgYW5kIGRpc2FibGVzIGJnIGV2ZW50c1xyXG4gICAgICAgICAgICBlZGl0Rm9ybS5jbGFzc0xpc3QuYWRkKFwiYWRkaW5nXCIpO1xyXG4gICAgICAgICAgICBtYWluQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xyXG5cclxuICAgICAgICAgICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT57Ly8gc3VibWl0IGJ1dHRvbiBmb3IgZWRpdCBmb3JtXHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBlZGl0aW5nRGV0YWlscyhvbGROYW1lKTtcclxuICAgICAgICAgICAgICAgIC8vIGNsb3NpbmcgZm9ybSBcclxuICAgICAgICAgICAgICAgIGVkaXRGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJhZGRpbmdcIik7XHJcbiAgICAgICAgICAgICAgICBtYWluQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBlZGl0VGFzayIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWFsZXJ0ICovXHJcbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1jeWNsZSAqL1xyXG5pbXBvcnQgY2lyY2xlIGZyb20gXCIuL2ltYWdlcy9jaXJjZWwucG5nXCI7XHJcbmltcG9ydCBjcm9zcyBmcm9tIFwiLi9pbWFnZXMvY3Jvc3MucG5nXCI7XHJcbmltcG9ydCBlZGl0IGZyb20gXCIuL2ltYWdlcy9lZGl0LnBuZ1wiO1xyXG5pbXBvcnQgYmdJY29uQWZ0ZXIgZnJvbSBcIi4vaW1hZ2VzL3Rhc2stYXJlYS1pbWFnZS1hZnRlci5wbmdcIjtcclxuaW1wb3J0IGJnSWNvbkJlZm9yZSBmcm9tIFwiLi9pbWFnZXMvdGFzay1hcmVhLWltYWdlLnBuZ1wiO1xyXG5pbXBvcnQgZWRpdFRhc2sgZnJvbSBcIi4vZWRpdFRhc2tEZXRhaWxzXCI7XHJcblxyXG5jb25zdCBwcm9qZWN0c0FycmF5ID0gW107XHJcbmZvcihsZXQgaT0wO2k8bG9jYWxTdG9yYWdlLmxlbmd0aDtpKz0xKXtcclxuICAgIHByb2plY3RzQXJyYXkucHVzaChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGkpKSk7XHJcbn1cclxuY29uc3QgY2hlY2tUYXNrRXhpc3RzID0gKCk9PntcclxuICAgIGNvbnN0IHRhc2tzU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza3NcIik7XHJcbiAgICBjb25zdCBiZ0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iZy1pbWFnZVwiKTtcclxuICAgIGlmKHRhc2tzU2VjdGlvbi5jaGlsZEVsZW1lbnRDb3VudCA+IDEpey8vIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgdGFza1xyXG4gICAgICAgIGJnSW1hZ2Uuc3JjID0gYmdJY29uQWZ0ZXI7Ly8gY2huYWdlcyBiZyBpbWFnZVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZih0YXNrc1NlY3Rpb24uY2hpbGRFbGVtZW50Q291bnQgPT09IDEpe1xyXG4gICAgICAgIGJnSW1hZ2Uuc3JjID0gYmdJY29uQmVmb3JlO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBUYXNrID0gY2xhc3N7Ly8gY29uc3RydWN0b3IgZm9yIGNvbGxlY3RpbmcgbmV3VGFzayBpbmZvXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9qZWN0LHRpdGxlLCBkYXRlLCB0eXBlLCBzdGF0dXMpe1xyXG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3RcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5kYXRlID0gZGF0ZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhZGRpbmdOZXdUYXNrKCl7Ly8gY3JlYXRlcyBhbmQgYXBwZW5kcyBuZXcgdGFzayBcclxuICAgICAgICBjb25zdCB0YXNrc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdUYXNrRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBuZXdUYXNrRGl2LmNsYXNzTGlzdC5hZGQoXCJ0YXNrXCIpO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgICAgIHRhc2tOYW1lLnRleHRDb250ZW50ID0gdGhpcy50aXRsZTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICAgICAgICB0YXNrRGF0ZS50ZXh0Q29udGVudCA9IHRoaXMuZGF0ZTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFza1N0YXR1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgICAgIHRhc2tTdGF0dXMudGV4dENvbnRlbnQgPSB0aGlzLnR5cGU7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhc2tCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0YXNrQnV0dG9ucy5jbGFzc0xpc3QuYWRkKFwidGFzay1vcHRpb25cIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGRvbmVJY29uID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgZG9uZUljb24uc3JjID0gY2lyY2xlO1xyXG5cclxuICAgICAgICBjb25zdCBkZWxldGVJY29uID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgZGVsZXRlSWNvbi5zcmMgPSBjcm9zcztcclxuXHJcbiAgICAgICAgY29uc3QgZWRpdEljb24gPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBlZGl0SWNvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdC1pY29uXCIpXHJcbiAgICAgICAgZWRpdEljb24uc3JjID0gZWRpdDtcclxuXHJcbiAgICAgICAgaWYodGhpcy5zdGF0dXMgPT09IFwiY29tcGxldGVcIil7XHJcbiAgICAgICAgICAgIG5ld1Rhc2tEaXYuY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGFza3NTZWN0aW9uLmFwcGVuZENoaWxkKG5ld1Rhc2tEaXYpO1xyXG4gICAgICAgIG5ld1Rhc2tEaXYuYXBwZW5kQ2hpbGQodGFza05hbWUpO1xyXG4gICAgICAgIG5ld1Rhc2tEaXYuYXBwZW5kQ2hpbGQodGFza0RhdGUpO1xyXG4gICAgICAgIG5ld1Rhc2tEaXYuYXBwZW5kQ2hpbGQodGFza1N0YXR1cyk7XHJcbiAgICAgICAgbmV3VGFza0Rpdi5hcHBlbmRDaGlsZCh0YXNrQnV0dG9ucyk7XHJcbiAgICAgICAgdGFza0J1dHRvbnMuYXBwZW5kQ2hpbGQoZG9uZUljb24pO1xyXG4gICAgICAgIHRhc2tCdXR0b25zLmFwcGVuZENoaWxkKGRlbGV0ZUljb24pO1xyXG4gICAgICAgIHRhc2tCdXR0b25zLmFwcGVuZENoaWxkKGVkaXRJY29uKTtcclxuICAgICAgICBjaGVja1Rhc2tFeGlzdHMoKTtcclxuXHJcbiAgICAgICAgLy8gZXZlbnRzIGZvciByZW1vdmluZyBhbmQgY29tcGxldGluZyB0YXNrc1xyXG4gICAgICAgIGRvbmVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRUYXNrVGl0bGUgPSAoKGRvbmVJY29uLnBhcmVudE5vZGUpLnBhcmVudE5vZGUpLmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgPTA7IGk8cHJvamVjdHNBcnJheS5sZW5ndGg7aSs9MSl7IC8vIGNobmFnZXMgdGhlIHN0YXR1cyBvZiB0aGUgdGFzayBcclxuICAgICAgICAgICAgICAgIGlmKGNvbXBsZXRlZFRhc2tUaXRsZSA9PT0gcHJvamVjdHNBcnJheVtpXS50aXRsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocHJvamVjdHNBcnJheVtpXS5zdGF0dXMgPT09IFwiY29tcGxldGVcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RzQXJyYXlbaV0uc3RhdHVzID0gXCJpbmNvbXBsZXRlXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihwcm9qZWN0c0FycmF5W2ldLnN0YXR1cyA9PT0gXCJpbmNvbXBsZXRlXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0FycmF5W2ldLnN0YXR1cyA9IFwiY29tcGxldGVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICgoZG9uZUljb24ucGFyZW50Tm9kZSkucGFyZW50Tm9kZSkuY2xhc3NMaXN0LnRvZ2dsZShcImNvbXBsZXRlXCIpO1xyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBkZWxldGVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVkVGFza1RpdGxlID0gKChkZWxldGVJY29uLnBhcmVudE5vZGUpLnBhcmVudE5vZGUpLmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBmb3IobGV0IGk9MDtpPHByb2plY3RzQXJyYXkubGVuZ3RoO2krPTEpey8vIHJlbW92ZXMgdGhlIHRhc2sgZnJvbSB0aGUgbWFpbiBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYocmVtb3ZlZFRhc2tUaXRsZSA9PT0gcHJvamVjdHNBcnJheVtpXS50aXRsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNBcnJheS5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihpID09PSBsb2NhbFN0b3JhZ2UubGVuZ3RoLTEpeyAvLyByZW1vdmVzIHRoZSBsYXN0IGVsZW1lbnQgb25seSBmcm9tIGxvY2Fsc3RvcmFnZSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgYWEgPSBpOyBhYTxsb2NhbFN0b3JhZ2UubGVuZ3RoOyBhYSs9MSl7Ly8gcmVtb3ZlcyB0aGUgc2VsZWN0ZWQgZWxlbWVudCBhbmQgcHVzaGVzIHVwIHRoZSBpbmRleCBudW1iZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYWEsbG9jYWxTdG9yYWdlLmdldEl0ZW0oYWErMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShsb2NhbFN0b3JhZ2UubGVuZ3RoLTEpOy8vIHJlbW92aW5nIGR1cGxpY2F0ZWQgbGFzdCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKChkZWxldGVJY29uLnBhcmVudE5vZGUpLnBhcmVudE5vZGUpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBjaGVja1Rhc2tFeGlzdHMoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgYWRkTmV3VGFzayA9ICgpPT57XHJcbiAgICBjb25zdCB0YXNrRm9ybU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tbmFtZVwiKTtcclxuICAgIGNvbnN0IHRhc2tGb3JtRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1kYXRlXCIpO1xyXG4gICAgY29uc3QgdGFza0Zvcm1UeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXR5cGVcIik7XHJcbiAgICBjb25zdCB0YXNrUHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stbGlzdFwiKS5jaGlsZHJlblswXS50ZXh0Q29udGVudDtcclxuXHJcbiAgICAvLyBnZXRzIHZhbHVlIGZyb20gdGhlIGZvcm1cclxuICAgIGNvbnN0IHRhc2tGb3JtTmFtZVZhbHVlID0gYCR7dGFza0Zvcm1OYW1lLnZhbHVlfSAoJHt0YXNrUHJvamVjdE5hbWV9KWA7XHJcbiAgICBjb25zdCB0YXNrRm9ybURhdGVWYWx1ZSA9IHRhc2tGb3JtRGF0ZS52YWx1ZTtcclxuICAgIGNvbnN0IHRhc2tGb3JtVHlwZVZhbHVlID0gdGFza0Zvcm1UeXBlLnZhbHVlO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gXCJpbmNvbXBsZXRlXCI7XHJcblxyXG4gICAgaWYodGFza0Zvcm1OYW1lLnZhbHVlID09PSBcIlwiKXtcclxuICAgICAgICBhbGVydChcIkVudGVyIHNvbWUgVGFzayBOYW1lXCIpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yKGxldCBpPTA7aTxwcm9qZWN0c0FycmF5Lmxlbmd0aDtpKz0xKXsvLyBjaGVjayBpZiB0aGUgcHJvamVjdCBhbHJlYWR5IGV4aXN0c1xyXG4gICAgICAgIGlmKHRhc2tGb3JtTmFtZVZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IHByb2plY3RzQXJyYXlbaV0udGl0bGUudG9Mb3dlckNhc2UoKSl7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiVGFzayBBbHJlYWR5IEV4aXN0c1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayh0YXNrUHJvamVjdE5hbWUgLHRhc2tGb3JtTmFtZVZhbHVlLCB0YXNrRm9ybURhdGVWYWx1ZSwgdGFza0Zvcm1UeXBlVmFsdWUsIHN0YXR1cyk7XHJcbiAgICBuZXdUYXNrLmFkZGluZ05ld1Rhc2soKTsvLyBjYWxsaW5nIGZ1bmN0aW9uXHJcbiAgICBwcm9qZWN0c0FycmF5LnB1c2gobmV3VGFzayk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2UubGVuZ3RoLCBKU09OLnN0cmluZ2lmeShuZXdUYXNrKSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhwcm9qZWN0c0FycmF5KTtcclxuXHJcbiAgICB0YXNrRm9ybU5hbWUudmFsdWUgPSBcIlwiO1xyXG4gICAgdGFza0Zvcm1EYXRlLnZhbHVlID0gbmV3IERhdGUoKS50b0pTT04oKS5zbGljZSgwLDEwKTtcclxuICAgIHRhc2tGb3JtVHlwZS52YWx1ZSA9IFwiTm9ybWFsXCI7XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5cclxuY29uc3QgZ2V0VGFza0Zyb21Mb2NhbFN0b3JhZ2UgPSAoKT0+e1xyXG4gICAgZm9yKGxldCBpPTA7aTxwcm9qZWN0c0FycmF5Lmxlbmd0aDtpKz0xKXtcclxuICAgICAgICBjb25zdCBuZXdUYXNrID0gbmV3IFRhc2socHJvamVjdHNBcnJheVtpXS5wcm9qZWN0LCBwcm9qZWN0c0FycmF5W2ldLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RzQXJyYXlbaV0uZGF0ZSwgcHJvamVjdHNBcnJheVtpXS50eXBlLCBwcm9qZWN0c0FycmF5W2ldLnN0YXR1cylcclxuICAgICAgICBpZihwcm9qZWN0c0FycmF5W2ldLnByb2plY3QudG9Mb3dlckNhc2UoKSA9PT0gXCJjYXN1YWxcIil7XHJcbiAgICAgICAgICAgIG5ld1Rhc2suYWRkaW5nTmV3VGFzaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYWRkTmV3VGFza0V2ZW50ID0gKCk9PntcclxuICAgIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrLWJ1dHRvblwiKTtcclxuICAgIGNvbnN0IGNhbmNlbFRhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC10YXNrLWJ1dHRvblwiKTtcclxuICAgIGNvbnN0IGFkZEtleVZlcnRpY2FsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52ZXJ0aWNhbFwiKTtcclxuICAgIGNvbnN0IGFkZEtleUhvcml6b250b2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvcml6b250b2xcIik7XHJcblxyXG4gICAgYWRkVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT57XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGFkZE5ld1Rhc2soKTtcclxuICAgICAgICBlZGl0VGFzaygpO1xyXG4gICAgICAgIGNvbnN0IGFkZFRhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFzay1mb3JtXCIpO1xyXG5cclxuICAgICAgICBhZGRUYXNrRm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkaW5nXCIpO1xyXG4gICAgICAgIC8vIHJlc2V0dGluZyBwbHVzIGJ1dHRvbiBhbmQgbWFpbiBjb250YWluZXJcclxuICAgICAgICBhZGRLZXlWZXJ0aWNhbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkaW5nXCIpO1xyXG4gICAgICAgIGFkZEtleUhvcml6b250b2wuY2xhc3NMaXN0LnJlbW92ZShcImFkZGluZ1wiKTsvLyBhbmltYXRpb24gZm9yIGFkZCBpY29uIFxyXG4gICAgICAgIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGFpbmVyXCIpO1xyXG4gICAgICAgIG1haW5Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcbiAgICB9KVxyXG5cclxuICAgIGNhbmNlbFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKT0+e1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBhZGRLZXlWZXJ0aWNhbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkaW5nXCIpO1xyXG4gICAgICAgIGFkZEtleUhvcml6b250b2wuY2xhc3NMaXN0LnJlbW92ZShcImFkZGluZ1wiKTsvLyBhbmltYXRpb24gZm9yIGFkZCBpY29uIFxyXG4gICAgICAgIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGFpbmVyXCIpO1xyXG4gICAgICAgIG1haW5Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcbiAgICAgICAgKCgoY2FuY2VsVGFza0J1dHRvbi5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkaW5nXCIpO1xyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IHthZGROZXdUYXNrRXZlbnQsIHByb2plY3RzQXJyYXksIFRhc2ssIGNoZWNrVGFza0V4aXN0cywgZ2V0VGFza0Zyb21Mb2NhbFN0b3JhZ2V9OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVpcmVkQXJncyhyZXF1aXJlZCwgYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggPCByZXF1aXJlZCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocmVxdWlyZWQgKyAnIGFyZ3VtZW50JyArIChyZXF1aXJlZCA+IDEgPyAncycgOiAnJykgKyAnIHJlcXVpcmVkLCBidXQgb25seSAnICsgYXJncy5sZW5ndGggKyAnIHByZXNlbnQnKTtcbiAgfVxufSIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7IC8vIENsb25lIHRoZSBkYXRlXG5cbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fCBfdHlwZW9mKGFyZ3VtZW50KSA9PT0gJ29iamVjdCcgJiYgYXJnU3RyID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQuZ2V0VGltZSgpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICdudW1iZXInIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgTnVtYmVyXScpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGlmICgodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nKSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXCJTdGFydGluZyB3aXRoIHYyLjAuMC1iZXRhLjEgZGF0ZS1mbnMgZG9lc24ndCBhY2NlcHQgc3RyaW5ncyBhcyBkYXRlIGFyZ3VtZW50cy4gUGxlYXNlIHVzZSBgcGFyc2VJU09gIHRvIHBhcnNlIHN0cmluZ3MuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI3N0cmluZy1hcmd1bWVudHNcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cbiAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0ludGVnZXIoZGlydHlOdW1iZXIpIHtcbiAgaWYgKGRpcnR5TnVtYmVyID09PSBudWxsIHx8IGRpcnR5TnVtYmVyID09PSB0cnVlIHx8IGRpcnR5TnVtYmVyID09PSBmYWxzZSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICB2YXIgbnVtYmVyID0gTnVtYmVyKGRpcnR5TnVtYmVyKTtcblxuICBpZiAoaXNOYU4obnVtYmVyKSkge1xuICAgIHJldHVybiBudW1iZXI7XG4gIH1cblxuICByZXR1cm4gbnVtYmVyIDwgMCA/IE1hdGguY2VpbChudW1iZXIpIDogTWF0aC5mbG9vcihudW1iZXIpO1xufSIsInZhciBkZWZhdWx0T3B0aW9ucyA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb25zKCkge1xuICByZXR1cm4gZGVmYXVsdE9wdGlvbnM7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdE9wdGlvbnMobmV3T3B0aW9ucykge1xuICBkZWZhdWx0T3B0aW9ucyA9IG5ld09wdGlvbnM7XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgdG9JbnRlZ2VyIGZyb20gXCIuLi9fbGliL3RvSW50ZWdlci9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4uL19saWIvZGVmYXVsdE9wdGlvbnMvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgc3RhcnRPZldlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqIEBwYXJhbSB7TG9jYWxlfSBbb3B0aW9ucy5sb2NhbGU9ZGVmYXVsdExvY2FsZV0gLSB0aGUgbG9jYWxlIG9iamVjdC4gU2VlIFtMb2NhbGVde0BsaW5rIGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvTG9jYWxlfVxuICogQHBhcmFtIHswfDF8MnwzfDR8NXw2fSBbb3B0aW9ucy53ZWVrU3RhcnRzT249MF0gLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayAoMCAtIFN1bmRheSlcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgc3RhcnQgb2YgYSB3ZWVrXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLndlZWtTdGFydHNPbmAgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDZcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFN1biBBdWcgMzEgMjAxNCAwMDowMDowMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0aGUgd2VlayBzdGFydHMgb24gTW9uZGF5LCB0aGUgc3RhcnQgb2YgdGhlIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApLCB7IHdlZWtTdGFydHNPbjogMSB9KVxuICogLy89PiBNb24gU2VwIDAxIDIwMTQgMDA6MDA6MDBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mV2VlayhkaXJ0eURhdGUsIG9wdGlvbnMpIHtcbiAgdmFyIF9yZWYsIF9yZWYyLCBfcmVmMywgX29wdGlvbnMkd2Vla1N0YXJ0c09uLCBfb3B0aW9ucyRsb2NhbGUsIF9vcHRpb25zJGxvY2FsZSRvcHRpbywgX2RlZmF1bHRPcHRpb25zJGxvY2FsLCBfZGVmYXVsdE9wdGlvbnMkbG9jYWwyO1xuXG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICB2YXIgd2Vla1N0YXJ0c09uID0gdG9JbnRlZ2VyKChfcmVmID0gKF9yZWYyID0gKF9yZWYzID0gKF9vcHRpb25zJHdlZWtTdGFydHNPbiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53ZWVrU3RhcnRzT24pICE9PSBudWxsICYmIF9vcHRpb25zJHdlZWtTdGFydHNPbiAhPT0gdm9pZCAwID8gX29wdGlvbnMkd2Vla1N0YXJ0c09uIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29wdGlvbnMkbG9jYWxlID0gb3B0aW9ucy5sb2NhbGUpID09PSBudWxsIHx8IF9vcHRpb25zJGxvY2FsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9vcHRpb25zJGxvY2FsZSRvcHRpbyA9IF9vcHRpb25zJGxvY2FsZS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9ucyRsb2NhbGUkb3B0aW8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zJGxvY2FsZSRvcHRpby53ZWVrU3RhcnRzT24pICE9PSBudWxsICYmIF9yZWYzICE9PSB2b2lkIDAgPyBfcmVmMyA6IGRlZmF1bHRPcHRpb25zLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX3JlZjIgIT09IHZvaWQgMCA/IF9yZWYyIDogKF9kZWZhdWx0T3B0aW9ucyRsb2NhbCA9IGRlZmF1bHRPcHRpb25zLmxvY2FsZSkgPT09IG51bGwgfHwgX2RlZmF1bHRPcHRpb25zJGxvY2FsID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2RlZmF1bHRPcHRpb25zJGxvY2FsMiA9IF9kZWZhdWx0T3B0aW9ucyRsb2NhbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZGVmYXVsdE9wdGlvbnMkbG9jYWwyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGVmYXVsdE9wdGlvbnMkbG9jYWwyLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX3JlZiAhPT0gdm9pZCAwID8gX3JlZiA6IDApOyAvLyBUZXN0IGlmIHdlZWtTdGFydHNPbiBpcyBiZXR3ZWVuIDAgYW5kIDYgX2FuZF8gaXMgbm90IE5hTlxuXG4gIGlmICghKHdlZWtTdGFydHNPbiA+PSAwICYmIHdlZWtTdGFydHNPbiA8PSA2KSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd3ZWVrU3RhcnRzT24gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDYgaW5jbHVzaXZlbHknKTtcbiAgfVxuXG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuICB2YXIgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyA3IDogMCkgKyBkYXkgLSB3ZWVrU3RhcnRzT247XG4gIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGRpZmYpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgc3RhcnRPZldlZWsgZnJvbSBcIi4uL3N0YXJ0T2ZXZWVrL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzU2FtZVdlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgd2VlayAoYW5kIG1vbnRoIGFuZCB5ZWFyKT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgd2VlayAoYW5kIG1vbnRoIGFuZCB5ZWFyKT9cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBmaXJzdCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgc2Vjb25kIGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHtMb2NhbGV9IFtvcHRpb25zLmxvY2FsZT1kZWZhdWx0TG9jYWxlXSAtIHRoZSBsb2NhbGUgb2JqZWN0LiBTZWUgW0xvY2FsZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9Mb2NhbGV9XG4gKiBAcGFyYW0gezB8MXwyfDN8NHw1fDZ9IFtvcHRpb25zLndlZWtTdGFydHNPbj0wXSAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrICgwIC0gU3VuZGF5KVxuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgd2VlayAoYW5kIG1vbnRoIGFuZCB5ZWFyKVxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMud2Vla1N0YXJ0c09uYCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgMzEgQXVndXN0IDIwMTQgYW5kIDQgU2VwdGVtYmVyIDIwMTQgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB3ZWVrIHN0YXJ0cyB3aXRoIE1vbmRheSxcbiAqIC8vIGFyZSAzMSBBdWd1c3QgMjAxNCBhbmQgNCBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lV2VlayhuZXcgRGF0ZSgyMDE0LCA3LCAzMSksIG5ldyBEYXRlKDIwMTQsIDgsIDQpLCB7XG4gKiAgIHdlZWtTdGFydHNPbjogMVxuICogfSlcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDEgSmFudWFyeSAyMDE0IGFuZCAxIEphbnVhcnkgMjAxNSBpbiB0aGUgc2FtZSB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lV2VlayhuZXcgRGF0ZSgyMDE0LCAwLCAxKSwgbmV3IERhdGUoMjAxNSwgMCwgMSkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzU2FtZVdlZWsoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQsIG9wdGlvbnMpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlTGVmdFN0YXJ0T2ZXZWVrID0gc3RhcnRPZldlZWsoZGlydHlEYXRlTGVmdCwgb3B0aW9ucyk7XG4gIHZhciBkYXRlUmlnaHRTdGFydE9mV2VlayA9IHN0YXJ0T2ZXZWVrKGRpcnR5RGF0ZVJpZ2h0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGRhdGVMZWZ0U3RhcnRPZldlZWsuZ2V0VGltZSgpID09PSBkYXRlUmlnaHRTdGFydE9mV2Vlay5nZXRUaW1lKCk7XG59IiwiaW1wb3J0IGlzU2FtZVdlZWsgZnJvbSBcIi4uL2lzU2FtZVdlZWsvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGlzU2FtZUlTT1dlZWtcbiAqIEBjYXRlZ29yeSBJU08gV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIElTTyB3ZWVrIChhbmQgeWVhcik/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIElTTyB3ZWVrIChhbmQgeWVhcik/XG4gKlxuICogSVNPIHdlZWstbnVtYmVyaW5nIHllYXI6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVMZWZ0IC0gdGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVSaWdodCAtIHRoZSBzZWNvbmQgZGF0ZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgSVNPIHdlZWsgKGFuZCB5ZWFyKVxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgMSBTZXB0ZW1iZXIgMjAxNCBhbmQgNyBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSBJU08gd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZUlTT1dlZWsobmV3IERhdGUoMjAxNCwgOCwgMSksIG5ldyBEYXRlKDIwMTQsIDgsIDcpKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAxIFNlcHRlbWJlciAyMDE0IGFuZCAxIFNlcHRlbWJlciAyMDE1IGluIHRoZSBzYW1lIElTTyB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lSVNPV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAxKSwgbmV3IERhdGUoMjAxNSwgOCwgMSkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTYW1lSVNPV2VlayhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGlzU2FtZVdlZWsoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQsIHtcbiAgICB3ZWVrU3RhcnRzT246IDFcbiAgfSk7XG59IiwiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWN5Y2xlICovXHJcbmltcG9ydCBpc1NhbWVJU09XZWVrIGZyb20gXCJkYXRlLWZucy9pc1NhbWVJU09XZWVrXCI7XHJcbmltcG9ydCB7IGNoZWNrVGFza0V4aXN0cywgcHJvamVjdHNBcnJheSwgVGFzayB9IGZyb20gXCIuL3Rhc2tBZGRcIjtcclxuXHJcblxyXG5jb25zdCB0YXNrc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzXCIpO1xyXG5jb25zdCB0YXNrUHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stbGlzdFwiKS5jaGlsZHJlblswXTtcclxuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFza1wiKTtcclxuXHJcbmNvbnN0IGVkaXREaXNhYmxlID0gKCk9PnsgLy8gZGlzYWJsaW5nIGVkaXQgYnV0dG9uIGluIHRpbWVXaXNlIFNlY3Rpb25zXHJcbiAgICBjb25zdCBlZGl0SWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtaWNvblwiKTs7XHJcbiAgICBlZGl0SWNvbnMuZm9yRWFjaCgoZWRpdEljb24pPT57XHJcbiAgICAgICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZChcImV2ZW50XCIpO1xyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgZ2V0QWxsVGFzaz0gKCk9PntcclxuICAgIGNvbnN0IGFsbFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFsbC10YXNrXCIpO1xyXG4gICAgYWxsVGFzay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoKT0+e1xyXG4gICAgICAgIGFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcclxuICAgICAgICBhZGRCdXR0b24uY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XHJcbiAgICAgICAgd2hpbGUodGFza3NTZWN0aW9uLmNoaWxkRWxlbWVudENvdW50PjEpey8vIHJlbW92ZXMgdGhlIGN1cnJlbnQgcHJvamVjdHMgdGFza3MgZm9yIG5ldyBzZWxlY3RlZCBwcm9qZWN0XHJcbiAgICAgICAgICAgIHRhc2tzU2VjdGlvbi5sYXN0Q2hpbGQucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhc2tQcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IFwiQWxsIFRhc2tcIjtcclxuICAgICAgICBmb3IobGV0IGk9MDtpPHByb2plY3RzQXJyYXkubGVuZ3RoO2krPTEpey8vIHRhc2tlcyB2YWx1ZSBmcm9tIGFycmF5IGFuZCBhcHBlbmRzIHRoZSBhbGwgcHJvamVjdHMgdGFza1xyXG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrID0gbmV3IFRhc2socHJvamVjdHNBcnJheVtpXS5wcm9qZWN0LHByb2plY3RzQXJyYXlbaV0udGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNBcnJheVtpXS5kYXRlLHByb2plY3RzQXJyYXlbaV0udHlwZSwgcHJvamVjdHNBcnJheVtpXS5zdGF0dXMpO1xyXG4gICAgICAgICAgICBuZXdUYXNrLmFkZGluZ05ld1Rhc2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hlY2tUYXNrRXhpc3RzKCk7XHJcbiAgICAgICAgZWRpdERpc2FibGUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBnZXRUb2RheVRhc2tzID0gKCk9PntcclxuICAgIGNvbnN0IHRvZGF5VGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZGF5XCIpO1xyXG4gICAgdG9kYXlUYXNrcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICBhZGRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XHJcbiAgICAgICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xyXG4gICAgICAgIHdoaWxlKHRhc2tzU2VjdGlvbi5jaGlsZEVsZW1lbnRDb3VudD4xKXsvLyByZW1vdmVzIHRoZSBjdXJyZW50IHByb2plY3RzIHRhc2tzIGZvciBuZXcgc2VsZWN0ZWQgcHJvamVjdFxyXG4gICAgICAgICAgICB0YXNrc1NlY3Rpb24ubGFzdENoaWxkLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXNrUHJvamVjdE5hbWUudGV4dENvbnRlbnQgPSBcIlRvZGF5XCI7XHJcbiAgICAgICAgY29uc3QgdG9kYXlzRGF0ZSA9IG5ldyBEYXRlKCkudG9KU09OKCkuc2xpY2UoMCwxMCk7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTxwcm9qZWN0c0FycmF5Lmxlbmd0aDtpKz0xKXsvLyB0YXNrZXMgdmFsdWUgZnJvbSBhcnJheSBhbmQgYXBwZW5kcyB0aGUgc2VsZWNldGVkIHByb2plY3RzIHRhc2tcclxuICAgICAgICAgICAgaWYodG9kYXlzRGF0ZSA9PT0gcHJvamVjdHNBcnJheVtpXS5kYXRlKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayhwcm9qZWN0c0FycmF5W2ldLnByb2plY3QscHJvamVjdHNBcnJheVtpXS50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0FycmF5W2ldLmRhdGUscHJvamVjdHNBcnJheVtpXS50eXBlLCBwcm9qZWN0c0FycmF5W2ldLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBuZXdUYXNrLmFkZGluZ05ld1Rhc2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja1Rhc2tFeGlzdHMoKTtcclxuICAgICAgICBlZGl0RGlzYWJsZSgpXHJcbiAgICB9KVxyXG59XHJcblxyXG5jb25zdCBnZXRXZWVrVGFza3MgPSAoKT0+e1xyXG4gICAgY29uc3Qgd2Vla1Rhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aGlzLXdlZWtcIik7XHJcbiAgICB3ZWVrVGFza3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT57XHJcbiAgICAgICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG4gICAgICAgIGFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcclxuICAgICAgICB3aGlsZSh0YXNrc1NlY3Rpb24uY2hpbGRFbGVtZW50Q291bnQ+MSl7Ly8gcmVtb3ZlcyB0aGUgY3VycmVudCBwcm9qZWN0cyB0YXNrcyBmb3IgbmV3IHNlbGVjdGVkIHByb2plY3RcclxuICAgICAgICAgICAgdGFza3NTZWN0aW9uLmxhc3RDaGlsZC5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFza1Byb2plY3ROYW1lLnRleHRDb250ZW50ID0gXCJUaGlzIFdlZWtcIjtcclxuICAgICAgICBjb25zdCB0b2RheXNEYXRlID0gbmV3IERhdGUoKS50b0pTT04oKS5zbGljZSgwLDEwKTtcclxuICAgICAgICBcclxuICAgICAgICBmb3IobGV0IGk9MDtpPHByb2plY3RzQXJyYXkubGVuZ3RoO2krPTEpey8vIHRhc2tlcyB2YWx1ZSBmcm9tIGFycmF5IGFuZCBhcHBlbmRzIHRoZSBzZWxlY2V0ZWQgcHJvamVjdHMgdGFza1xyXG4gICAgICAgICAgICBjb25zdCBnZXREYXRlID0gcHJvamVjdHNBcnJheVtpXS5kYXRlLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICAgICAgY29uc3QgZ2V0VG9kYXlzRGF0ZSA9IHRvZGF5c0RhdGUuc3BsaXQoXCItXCIpO1xyXG4gICAgICAgICAgICBpZihpc1NhbWVJU09XZWVrKG5ldyBEYXRlKGdldFRvZGF5c0RhdGVbMF0sIGdldFRvZGF5c0RhdGVbMV0sIGdldFRvZGF5c0RhdGVbMl0pLCBcclxuICAgICAgICAgICAgbmV3IERhdGUoZ2V0RGF0ZVswXSwgZ2V0RGF0ZVsxXSwgZ2V0RGF0ZVsyXSkpKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayhwcm9qZWN0c0FycmF5W2ldLnByb2plY3QscHJvamVjdHNBcnJheVtpXS50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0FycmF5W2ldLmRhdGUscHJvamVjdHNBcnJheVtpXS50eXBlLCBwcm9qZWN0c0FycmF5W2ldLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBuZXdUYXNrLmFkZGluZ05ld1Rhc2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja1Rhc2tFeGlzdHMoKTtcclxuICAgICAgICBlZGl0RGlzYWJsZSgpO1xyXG4gICAgfSlcclxufVxyXG5leHBvcnQge2dldEFsbFRhc2ssIGdldFRvZGF5VGFza3MsIGdldFdlZWtUYXNrcywgYWRkQnV0dG9ufTsiLCIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tY3ljbGUgKi9cclxuaW1wb3J0IHRhc2tJY29uIGZyb20gXCIuL2ltYWdlcy90YXNrX0ZJTEwwX3dnaHQ0MDBfR1JBRDBfb3BzejQ4LnBuZ1wiO1xyXG5pbXBvcnQgY3Jvc3NJY29uIGZyb20gXCIuL2ltYWdlcy9jcm9zcy5wbmdcIjtcclxuaW1wb3J0IHsgVGFzaywgcHJvamVjdHNBcnJheSwgY2hlY2tUYXNrRXhpc3RzIH0gZnJvbSBcIi4vdGFza0FkZFwiO1xyXG5pbXBvcnQgeyBhZGRCdXR0b24gYXMgcGx1c0J1dHRvbiB9IGZyb20gXCIuL3RpbWVXaXNlVGFza3NcIjtcclxuaW1wb3J0IGVkaXRUYXNrIGZyb20gXCIuL2VkaXRUYXNrRGV0YWlsc1wiO1xyXG5cclxuY29uc3QgYWRkTmV3UHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXByb2plY3RcIik7XHJcbmNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWZvcm1cIik7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgbmV3UHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy1wcm9qZWN0c1wiKTtcclxuY29uc3QgY2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jbGUtYnV0dG9uXCIpO1xyXG5jb25zdCB0YXNrc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzXCIpO1xyXG5cclxuY29uc3QgcGFydGlhbFByb2plY3ROYW1lID0gW11cclxuXHJcbmZvcihsZXQgaT0wO2k8bG9jYWxTdG9yYWdlLmxlbmd0aDtpKz0xKXtcclxuICAgIGNvbnN0IHN0aCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oaSkpLnByb2plY3Q7XHJcbiAgICBpZihzdGgudG9Mb3dlckNhc2UoKSAhPT0gXCJjYXN1YWxcIil7XHJcbiAgICBwYXJ0aWFsUHJvamVjdE5hbWUucHVzaChzdGgpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IHByb2plY3RzTmFtZSA9IFsuLi5uZXcgU2V0KHBhcnRpYWxQcm9qZWN0TmFtZSldO1xyXG5cclxuXHJcbmNvbnN0IGFkZGluZ1Rhc2tUb0N1cnJlbnRQcm9qZWN0ID0gKCk9PntcclxuICAgIHdoaWxlKHRhc2tzU2VjdGlvbi5jaGlsZEVsZW1lbnRDb3VudD4xKXsvLyByZW1vdmVzIHRoZSBjdXJyZW50IHByb2plY3RzIHRhc2tzIGZvciBuZXcgc2VsZWN0ZWQgcHJvamVjdFxyXG4gICAgICAgIHRhc2tzU2VjdGlvbi5sYXN0Q2hpbGQucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0YXNrUHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stbGlzdFwiKS5jaGlsZHJlblswXS50ZXh0Q29udGVudDtcclxuICAgIGZvcihsZXQgaT0wO2k8cHJvamVjdHNBcnJheS5sZW5ndGg7aSs9MSl7Ly8gdGFza2VzIHZhbHVlIGZyb20gYXJyYXkgYW5kIGFwcGVuZHMgdGhlIHNlbGVjZXRlZCBwcm9qZWN0cyB0YXNrXHJcbiAgICAgICAgaWYodGFza1Byb2plY3ROYW1lID09PSBwcm9qZWN0c0FycmF5W2ldLnByb2plY3Qpe1xyXG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrID0gbmV3IFRhc2socHJvamVjdHNBcnJheVtpXS5wcm9qZWN0LHByb2plY3RzQXJyYXlbaV0udGl0bGUsXHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0c0FycmF5W2ldLmRhdGUscHJvamVjdHNBcnJheVtpXS50eXBlLCBwcm9qZWN0c0FycmF5W2ldLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIG5ld1Rhc2suYWRkaW5nTmV3VGFzaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNoZWNrVGFza0V4aXN0cygpO1xyXG4gICAgZWRpdFRhc2soKTtcclxufVxyXG5cclxuY29uc3QgYWNjZXNzUHJvamVjdHMgPSAoKT0+eyAvLyBhY2Nlc3MgbmFtZXMgb2YgcHJvamVjdHNcclxuICAgIGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNwcm9qZWN0XCIpO1xyXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWxpc3RcIik7XHJcbiAgICBwcm9qZWN0cy5mb3JFYWNoKChwcm9qZWN0KT0+e1xyXG4gICAgICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT57XHJcbiAgICAgICAgICAgIHBsdXNCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XHJcbiAgICAgICAgICAgIGlmKHByb2plY3RUaXRsZS5jaGlsZE5vZGVzWzFdLnRleHRDb250ZW50ID09PSBwcm9qZWN0LnRleHRDb250ZW50KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIHByb2plY3RUaXRsZS5jaGlsZE5vZGVzWzFdLnRleHRDb250ZW50ID0gcHJvamVjdC50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgYWRkaW5nVGFza1RvQ3VycmVudFByb2plY3QoKTtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IFByb2plY3ROYW1lQ3JlYXRlID0gY2xhc3N7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSl7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFByb2plY3QoKXsvLyBjcmVhdGVzIG5ldyBwcm9qZWN0IGRpdiBhbmQgYXBwZW5kcyBiZWZvcmUgdGhlIGFkZCBidXR0b25cclxuICAgIFxyXG4gICAgICAgIGNvbnN0IG5ld1Byb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIG5ld1Byb2plY3REaXYuY2xhc3NMaXN0LmFkZChcIm5ldy1wcm9qZWN0LXRpdGxlXCIpO1xyXG4gICAgICAgIG5ld1Byb2plY3RzLmluc2VydEJlZm9yZShuZXdQcm9qZWN0RGl2LCBuZXdQcm9qZWN0cy5jaGlsZHJlbltuZXdQcm9qZWN0cy5jaGlsZEVsZW1lbnRDb3VudC0xXSk7XHJcbiAgICBcclxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBuZXdQcm9qZWN0SW1hZ2Uuc3JjID0gdGFza0ljb247XHJcbiAgICAgICAgbmV3UHJvamVjdERpdi5hcHBlbmRDaGlsZChuZXdQcm9qZWN0SW1hZ2UpO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgbmV3UHJvamVjdEJ1dHRvbi5pZCA9IFwicHJvamVjdFwiO1xyXG4gICAgICAgIG5ld1Byb2plY3RCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLnRpdGxlO1xyXG4gICAgICAgIG5ld1Byb2plY3REaXYuYXBwZW5kQ2hpbGQobmV3UHJvamVjdEJ1dHRvbik7XHJcbiAgICBcclxuICAgICAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stbGlzdFwiKTsvLyB3aGVuIG5ldyBwcm9qZWN0IGlzIGNyZWF0ZWQgY2hhbmdlcyB0aGUgdGFiIHRvIG5ldyBwcm9qZWN0XHJcbiAgICAgICAgcHJvamVjdFRpdGxlLmNoaWxkTm9kZXNbMV0udGV4dENvbnRlbnQgPSB0aGlzLnRpdGxlO1xyXG4gICAgICAgIGFkZGluZ1Rhc2tUb0N1cnJlbnRQcm9qZWN0KCk7XHJcbiAgICBcclxuICAgICAgICBjb25zdCBjcm9zc0ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgY3Jvc3NJbWFnZS5zcmMgPSBjcm9zc0ljb247XHJcbiAgICAgICAgbmV3UHJvamVjdERpdi5hcHBlbmRDaGlsZChjcm9zc0ltYWdlKTsvLyBjcm9zc0ljb24gdG8gcmVtb3ZlIHRoZSBleGlzdGluZyBwcm9qZWN0XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcbiAgICAgICAgcGx1c0J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcclxuXHJcbiAgICAgICAgY3Jvc3NJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICAgICAgY29uc3QgZGVsZXRlZFByb2plY3ROYW1lID0gKGNyb3NzSW1hZ2UucGFyZW50Tm9kZSkuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGlmKHRhc2tzU2VjdGlvbi5jaGlsZEVsZW1lbnRDb3VudCA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICAoY3Jvc3NJbWFnZS5wYXJlbnROb2RlKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIHByb2plY3RUaXRsZS5jaGlsZE5vZGVzWzFdLnRleHRDb250ZW50ID0gXCJDYXN1YWxcIjtcclxuICAgICAgICAgICAgICAgIGFkZGluZ1Rhc2tUb0N1cnJlbnRQcm9qZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8PXByb2plY3RzQXJyYXkubGVuZ3RoO2krPTEpey8vIHdoZW4gcHJvamVjdCBpcyBkZWxldGVkIHRoZSBwcm9qZWN0J3MgYWxsIHRhc2sgZ2V0cyBkZWxldGVkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGVsZXRlZFByb2plY3ROYW1lID09PSBwcm9qZWN0c0FycmF5W2ldLnByb2plY3Qpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0FycmF5LnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpID09PSBsb2NhbFN0b3JhZ2UubGVuZ3RoLTEpeyAvLyByZW1vdmVzIHRoZSBsYXN0IGVsZW1lbnQgb25seSBmcm9tIGxvY2Fsc3RvcmFnZSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGFhID0gaTsgYWE8bG9jYWxTdG9yYWdlLmxlbmd0aDsgYWErPTEpey8vIHJlbW92ZXMgdGhlIHNlbGVjdGVkIGVsZW1lbnQgYW5kIHB1c2hlcyB1cCB0aGUgaW5kZXggbnVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhYSxsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhYSsxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obG9jYWxTdG9yYWdlLmxlbmd0aC0xKTsvLyByZW1vdmluZyBkdXBsaWNhdGVkIGxhc3QgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9MDsgaTw9cHJvamVjdHNOYW1lLmxlbmd0aDtpKz0xKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihkZWxldGVkUHJvamVjdE5hbWUgPT09IHByb2plY3RzTmFtZVtpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RzTmFtZS5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAoY3Jvc3NJbWFnZS5wYXJlbnROb2RlKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gYSBwcm9qZWN0IGdldHMgZGVsZXRlZCBwcm9qZWN0IGdldHMgYmFjayB0byBDYXN1YWxcclxuICAgICAgICAgICAgICAgIHByb2plY3RUaXRsZS5jaGlsZE5vZGVzWzFdLnRleHRDb250ZW50ID0gXCJDYXN1YWxcIjtcclxuICAgICAgICAgICAgICAgIGFkZGluZ1Rhc2tUb0N1cnJlbnRQcm9qZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGFjY2Vzc1Byb2plY3RzKCk7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHByb2plY3RBZGRpbmdFdmVudHMgPSgpPT57XHJcbiAgICBhZGROZXdQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgIHByb2plY3RGb3JtLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpOy8vIGZvcm0gZm9yIG5ldyBwcm9qZWN0IFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT57XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IG5ld1Byb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0QWRkUG9wdXBcIik7XHJcbiAgICBcclxuICAgICAgICBpZihuZXdQcm9qZWN0TmFtZS52YWx1ZSA9PT0gXCJcIil7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTxwcm9qZWN0c05hbWUubGVuZ3RoO2krPTEpey8vIGNoZWNrIGlmIHRoZSBwcm9qZWN0IGFscmVhZHkgZXhpc3RzXHJcbiAgICAgICAgICAgIGlmKG5ld1Byb2plY3ROYW1lLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IHByb2plY3RzTmFtZVtpXSl7XHJcbiAgICAgICAgICAgICAgICBuZXdQcm9qZWN0TmFtZS5zdHlsZS5ib3JkZXJDb2xvciA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZ2V0TmV3UHJvamVjdE5hbWUgPSBuZXcgUHJvamVjdE5hbWVDcmVhdGUobmV3UHJvamVjdE5hbWUudmFsdWUpO1xyXG4gICAgICAgIGdldE5ld1Byb2plY3ROYW1lLmFkZFByb2plY3QoKTtcclxuICAgICAgICBwcm9qZWN0c05hbWUucHVzaChuZXdQcm9qZWN0TmFtZS52YWx1ZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0c05hbWUpO1xyXG4gICAgICAgIC8vIHJlc2V0dGluZyBmb3JtXHJcblxyXG4gICAgICAgIG5ld1Byb2plY3ROYW1lLnZhbHVlPSBcIlwiO1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfSlcclxuICAgIFxyXG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSk9PntcclxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdEFkZFBvcHVwXCIpXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHByb2plY3RGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgICAgIG5ld1Byb2plY3ROYW1lLnZhbHVlPSBcIlwiOyAvLyBjYW5jZWxzIHRoZSBmb3JtIGV4ZWN1dGlvblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGdldFByb2plY3RzTmFtZSA9ICgpPT57XHJcbiAgICBcclxuICAgIGZvcihsZXQgaT0wO2k8cHJvamVjdHNOYW1lLmxlbmd0aDtpKz0xKXtcclxuICAgICAgICBjb25zdCBnZXROZXdQcm9qZWN0TmFtZSA9ICBuZXcgUHJvamVjdE5hbWVDcmVhdGUocHJvamVjdHNOYW1lW2ldKTtcclxuICAgICAgICBnZXROZXdQcm9qZWN0TmFtZS5hZGRQcm9qZWN0KCk7XHJcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdERpdnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5ldy1wcm9qZWN0LXRpdGxlXCIpO1xyXG4gICAgICAgIG5ld1Byb2plY3REaXZzLmZvckVhY2goKG5ld1Byb2plY3REaXYpPT57XHJcbiAgICAgICAgICAgIG5ld1Byb2plY3REaXYuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHthY2Nlc3NQcm9qZWN0cywgcHJvamVjdEFkZGluZ0V2ZW50cywgYWRkaW5nVGFza1RvQ3VycmVudFByb2plY3QsIGdldFByb2plY3RzTmFtZX1cclxuZXhwb3J0IHtwcm9qZWN0Rm9ybSwgbmV3UHJvamVjdHN9OyIsImltcG9ydCB7cHJvamVjdEZvcm0sbmV3UHJvamVjdHN9IGZyb20gXCIuL3Byb2plY3RcIjtcclxuaW1wb3J0IHsgZ2V0QWxsVGFzaywgZ2V0VG9kYXlUYXNrcywgZ2V0V2Vla1Rhc2tzIH0gZnJvbSBcIi4vdGltZVdpc2VUYXNrc1wiO1xyXG5cclxuY29uc3QgRE9NYW5pbWF0aW9uID0gKCk9PntcclxuICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVcIik7XHJcbiAgICBjb25zdCBuYXZCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RzXCIpO1xyXG4gICAgY29uc3QgdGFza0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stbGlzdFwiKTtcclxuICAgIGNvbnN0IHRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrc1wiKTtcclxuICAgIGNvbnN0IHRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tcIik7XHJcbiAgICBjb25zdCBhZGRLZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpXHJcbiAgICBjb25zdCBhZGRLZXlWZXJ0aWNhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmVydGljYWxcIik7XHJcbiAgICBjb25zdCBhZGRLZXlIb3Jpem9udG9sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob3Jpem9udG9sXCIpO1xyXG4gICAgY29uc3QgYWRkVGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrLWZvcm1cIik7XHJcblxyXG4gICAgdGFza0FyZWEuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQgPSBcIkNhc3VhbFwiO1xyXG4gICAgbWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PnsgLy8gZm9yIG1lbnUgYmFyIHZpc2libGVcclxuICAgICAgICBpZihuZXdQcm9qZWN0cy5jaGlsZEVsZW1lbnRDb3VudCA+Mil7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1Byb2plY3REaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5ldy1wcm9qZWN0LXRpdGxlXCIpO1xyXG4gICAgICAgICAgICBuZXdQcm9qZWN0RGl2LmZvckVhY2goKHgpPT57XHJcbiAgICAgICAgICAgICAgICB4LmNsYXNzTGlzdC50b2dnbGUoXCJzaG93XCIpOy8vIGZvciByZW1vdmluZyB0aGUgbmV3UHJvamVjdHNGb3JtIHdpdGggbWVudSBjbG9zaW5nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImNoYW5nZVwiKTtcclxuICAgICAgICBuYXZCYXIuY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7ICAgIFxyXG4gICAgICAgIHRhc2tBcmVhLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93XCIpO1xyXG4gICAgICAgIGFkZFRhc2tGb3JtLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93XCIpO1xyXG4gICAgICAgIHByb2plY3RGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgICAgIHRhc2tzLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93XCIpO1xyXG4gICAgICAgIHRhc2suY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbiAgICAgICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRLZXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT57IC8vIGZvciBhZGRpbmcgdGFzayBcclxuICAgICAgICBhZGRLZXlWZXJ0aWNhbC5jbGFzc0xpc3QudG9nZ2xlKFwiYWRkaW5nXCIpO1xyXG4gICAgICAgIGFkZEtleUhvcml6b250b2wuY2xhc3NMaXN0LnRvZ2dsZShcImFkZGluZ1wiKTsvLyBhbmltYXRpb24gZm9yIGFkZCBpY29uXHJcbiAgICAgICAgYWRkVGFza0Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcImFkZGluZ1wiKTsvLyBtYWtlcyB0YXNrIGZvcm0gdmlzaWJsZVxyXG5cclxuICAgICAgICAoKG1lbnUucGFyZW50Tm9kZSkucGFyZW50Tm9kZSkuY2xhc3NMaXN0LmFkZChcInNob3dcIilcclxuXHJcbiAgICAgICAgLy8gd2hlbiBmb3JtIG9wZW5zIGRhdGUgaXMgc2V0IGluaXRpYWxseSB0byB0b2RheXMgZGF0ZVxyXG4gICAgICAgIGNvbnN0IHRhc2tGb3JtRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1kYXRlXCIpO1xyXG4gICAgICAgIHRhc2tGb3JtRGF0ZS52YWx1ZSA9IG5ldyBEYXRlKCkudG9KU09OKCkuc2xpY2UoMCwxMCk7XHJcbiAgICB9KTtcclxuICAgIGdldEFsbFRhc2soKTtcclxuICAgIGdldFRvZGF5VGFza3MoKTtcclxuICAgIGdldFdlZWtUYXNrcygpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBET01hbmltYXRpb247IiwiaW1wb3J0IERPTWFuaW1hdGlvbiBmcm9tIFwiLi9tb2R1bGVzL2luaXRpYWxET01cIjtcclxuaW1wb3J0IHsgYWNjZXNzUHJvamVjdHMsIHByb2plY3RBZGRpbmdFdmVudHMsIGdldFByb2plY3RzTmFtZSB9IGZyb20gXCIuL21vZHVsZXMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBhZGROZXdUYXNrRXZlbnQsIGdldFRhc2tGcm9tTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4vbW9kdWxlcy90YXNrQWRkXCI7XHJcblxyXG5ET01hbmltYXRpb24oKTtcclxuYWNjZXNzUHJvamVjdHMoKTtcclxuZ2V0VGFza0Zyb21Mb2NhbFN0b3JhZ2UoKTtcclxucHJvamVjdEFkZGluZ0V2ZW50cygpO1xyXG5nZXRQcm9qZWN0c05hbWUoKTtcclxuYWRkTmV3VGFza0V2ZW50KCk7XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiZWRpdEZvcm0iLCJxdWVyeVNlbGVjdG9yIiwibWFpbkNvbnRhaW5lciIsImVkaXROYW1lIiwiZWRpdERhdGUiLCJlZGl0VHlwZSIsImVkaXRCdXR0b24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVkaXRJY29uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInJlbW92ZSIsIm9sZE5hbWUiLCJjaGlsZHJlbiIsInRleHRDb250ZW50Iiwib2xkTmFtZUFycmF5Iiwic3BsaXQiLCJ2YWx1ZSIsInNwbGljZSIsImpvaW4iLCJEYXRlIiwidG9KU09OIiwic2xpY2UiLCJhZGQiLCJwcmV2ZW50RGVmYXVsdCIsImkiLCJwcm9qZWN0c0FycmF5IiwidGFza1Byb2plY3ROYW1lIiwidG9Mb3dlckNhc2UiLCJ0aXRsZSIsImRhdGUiLCJ0eXBlIiwiY29uc29sZSIsImxvZyIsImFkZGluZ1Rhc2tUb0N1cnJlbnRQcm9qZWN0IiwiZWRpdGluZ0RldGFpbHMiLCJsb2NhbFN0b3JhZ2UiLCJwdXNoIiwiSlNPTiIsInBhcnNlIiwiZ2V0SXRlbSIsImNoZWNrVGFza0V4aXN0cyIsInRhc2tzU2VjdGlvbiIsImJnSW1hZ2UiLCJjaGlsZEVsZW1lbnRDb3VudCIsIlRhc2siLCJjb25zdHJ1Y3RvciIsInByb2plY3QiLCJzdGF0dXMiLCJhZGRpbmdOZXdUYXNrIiwibmV3VGFza0RpdiIsImNyZWF0ZUVsZW1lbnQiLCJ0YXNrTmFtZSIsInRhc2tEYXRlIiwidGFza1N0YXR1cyIsInRhc2tCdXR0b25zIiwiZG9uZUljb24iLCJJbWFnZSIsImRlbGV0ZUljb24iLCJhcHBlbmRDaGlsZCIsImNvbXBsZXRlZFRhc2tUaXRsZSIsInRvZ2dsZSIsInJlbW92ZWRUYXNrVGl0bGUiLCJyZW1vdmVJdGVtIiwiYWEiLCJzZXRJdGVtIiwicmVxdWlyZWRBcmdzIiwicmVxdWlyZWQiLCJhcmdzIiwiVHlwZUVycm9yIiwiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwicHJvdG90eXBlIiwidG9EYXRlIiwiYXJndW1lbnQiLCJhcmd1bWVudHMiLCJhcmdTdHIiLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJnZXRUaW1lIiwid2FybiIsInN0YWNrIiwiTmFOIiwidG9JbnRlZ2VyIiwiZGlydHlOdW1iZXIiLCJudW1iZXIiLCJOdW1iZXIiLCJpc05hTiIsIk1hdGgiLCJjZWlsIiwiZmxvb3IiLCJkZWZhdWx0T3B0aW9ucyIsImdldERlZmF1bHRPcHRpb25zIiwic3RhcnRPZldlZWsiLCJkaXJ0eURhdGUiLCJvcHRpb25zIiwiX3JlZiIsIl9yZWYyIiwiX3JlZjMiLCJfb3B0aW9ucyR3ZWVrU3RhcnRzT24iLCJfb3B0aW9ucyRsb2NhbGUiLCJfb3B0aW9ucyRsb2NhbGUkb3B0aW8iLCJfZGVmYXVsdE9wdGlvbnMkbG9jYWwiLCJfZGVmYXVsdE9wdGlvbnMkbG9jYWwyIiwid2Vla1N0YXJ0c09uIiwibG9jYWxlIiwiUmFuZ2VFcnJvciIsImRheSIsImdldERheSIsImRpZmYiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInNldEhvdXJzIiwiaXNTYW1lV2VlayIsImRpcnR5RGF0ZUxlZnQiLCJkaXJ0eURhdGVSaWdodCIsImRhdGVMZWZ0U3RhcnRPZldlZWsiLCJkYXRlUmlnaHRTdGFydE9mV2VlayIsImlzU2FtZUlTT1dlZWsiLCJhZGRCdXR0b24iLCJlZGl0RGlzYWJsZSIsImFkZE5ld1Byb2plY3QiLCJwcm9qZWN0Rm9ybSIsIm5ld1Byb2plY3RzIiwiY2FuY2VsQnV0dG9uIiwicGFydGlhbFByb2plY3ROYW1lIiwic3RoIiwicHJvamVjdHNOYW1lIiwiU2V0IiwibGFzdENoaWxkIiwiYWNjZXNzUHJvamVjdHMiLCJwcm9qZWN0cyIsInByb2plY3RUaXRsZSIsImNoaWxkTm9kZXMiLCJQcm9qZWN0TmFtZUNyZWF0ZSIsImFkZFByb2plY3QiLCJuZXdQcm9qZWN0RGl2IiwiaW5zZXJ0QmVmb3JlIiwibmV3UHJvamVjdEltYWdlIiwibmV3UHJvamVjdEJ1dHRvbiIsImlkIiwiY3Jvc3NJbWFnZSIsImRlbGV0ZWRQcm9qZWN0TmFtZSIsIm1lbnUiLCJuYXZCYXIiLCJ0YXNrQXJlYSIsInRhc2tzIiwidGFzayIsImFkZEtleSIsImFkZEtleVZlcnRpY2FsIiwiYWRkS2V5SG9yaXpvbnRvbCIsImFkZFRhc2tGb3JtIiwieCIsInRvZGF5c0RhdGUiLCJnZXRUb2RheXNEYXRlIiwibmV3VGFzayIsImdldFRhc2tGcm9tTG9jYWxTdG9yYWdlIiwibmV3UHJvamVjdE5hbWUiLCJzdHlsZSIsImJvcmRlckNvbG9yIiwiZ2V0UHJvamVjdHNOYW1lIiwiYWRkVGFza0J1dHRvbiIsImNhbmNlbFRhc2tCdXR0b24iLCJ0YXNrRm9ybU5hbWUiLCJ0YXNrRm9ybURhdGUiLCJ0YXNrRm9ybVR5cGUiLCJ0YXNrRm9ybU5hbWVWYWx1ZSIsInRhc2tGb3JtRGF0ZVZhbHVlIiwidGFza0Zvcm1UeXBlVmFsdWUiLCJhbGVydCIsInN0cmluZ2lmeSIsImFkZE5ld1Rhc2siLCJhZGROZXdUYXNrRXZlbnQiXSwic291cmNlUm9vdCI6IiJ9