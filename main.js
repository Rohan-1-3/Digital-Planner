(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var c=o.getElementsByTagName("script");c.length&&(t=c[c.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"1f757ac1762962d60ddc.png",o=e.p+"d367d5dbff6ca8e7e2f2.png",c=e.p+"df3b5dddd60da7069980.png",n=e.p+"fe50e1a3f0405d606b0c.png",r=e.p+"cfabfc38136dc55a9a0d.png",s=[],d=()=>{const e=document.querySelector(".tasks"),t=document.querySelector(".bg-image");if("No Task Yet!"===e.children[0].textContent)e.children[0].remove(),t.src=n;else if(1===e.childElementCount){const o=document.createElement("h1");o.textContent="No Task Yet!",e.insertBefore(o,e.children[0]),t.src=r}},l=class{constructor(e,t,o,c){this.project=e,this.title=t,this.date=o,this.type=c}addingNewTask(){const e=document.querySelector(".tasks"),t=document.createElement("div");t.classList.add("task");const n=document.createElement("p");n.textContent=this.title;const r=document.createElement("p");r.textContent=this.date;const s=document.createElement("p");s.textContent=this.type;const l=document.createElement("div");l.classList.add("task-option");const a=new Image;a.src=c;const i=new Image;i.src=o,e.appendChild(t),t.appendChild(n),t.appendChild(r),t.appendChild(s),t.appendChild(l),l.appendChild(a),l.appendChild(i),d(),a.addEventListener("click",(()=>{a.parentNode.parentNode.classList.toggle("complete")})),i.addEventListener("click",(()=>{i.parentNode.parentNode.remove(),d()}))}},a=document.querySelector(".new-project"),i=document.querySelector(".project-form"),u=document.querySelector(".add-button"),m=document.querySelector(".new-projects"),p=document.querySelector(".cancle-button"),h=document.querySelector(".tasks"),g=()=>{const e=document.querySelectorAll("#project"),t=document.querySelector(".task-list");e.forEach((e=>{e.addEventListener("click",(()=>{t.childNodes[1].textContent=e.textContent,(()=>{for(;h.childElementCount>1;)h.lastChild.remove();const e=document.querySelector(".task-list").children[0].textContent;for(let t=0;t<s.length;t+=1)e===s[t].project&&new l(s[t].project,s[t].title,s[t].date,s[t].type).addingNewTask()})()}))}))};(()=>{const e=document.querySelector(".menu"),t=document.querySelector(".projects"),o=document.querySelector(".task-list"),c=document.querySelector(".tasks"),n=document.querySelector(".task"),r=document.querySelector(".add-task"),s=document.querySelector(".vertical"),d=document.querySelector(".horizontol"),l=document.querySelector(".add-task-form");o.children[0].textContent="Casual",e.addEventListener("click",(()=>{m.childElementCount>2&&document.querySelectorAll(".new-project-title").forEach((e=>{e.classList.toggle("show")})),e.classList.toggle("change"),t.classList.toggle("show"),o.classList.toggle("show"),l.classList.toggle("show"),i.classList.remove("show"),c.classList.toggle("show"),n.classList.toggle("show")})),r.addEventListener("click",(()=>{s.classList.toggle("adding"),d.classList.toggle("adding"),l.classList.toggle("adding"),e.parentNode.parentNode.classList.add("show"),document.querySelector(".form-date").value=(new Date).toJSON().slice(0,10)}))})(),g(),a.addEventListener("click",(()=>{i.classList.add("show")})),u.addEventListener("click",(e=>{e.preventDefault(),(()=>{const e=document.querySelector(".projectAddPopup"),c=document.createElement("div");c.classList.add("new-project-title"),m.insertBefore(c,m.children[m.childElementCount-1]);const n=new Image;n.src=t,c.appendChild(n);const r=document.createElement("button");r.id="project",r.textContent=e.value,c.appendChild(r),e.value="",i.classList.remove("show");const d=new Image;d.src=o,c.appendChild(d),d.addEventListener("click",(()=>{d.parentNode.remove()})),console.log(s),g()})()})),p.addEventListener("click",(e=>{const t=document.querySelector(".projectAddPopup");e.preventDefault(),i.classList.remove("show"),t.value=""})),(()=>{const e=document.querySelector(".add-task-button"),t=document.querySelector(".cancel-task-button"),o=document.querySelector(".vertical"),c=document.querySelector(".horizontol");e.addEventListener("click",(e=>{e.preventDefault(),(()=>{const e=document.querySelector(".form-name"),t=document.querySelector(".form-date"),o=document.querySelector(".form-type"),c=document.querySelector(".task-list").children[0].textContent,n=e.value,r=t.value,d=o.value,a=document.querySelector(".add-task-form"),i=new l(c,n,r,d);i.addingNewTask(),s.push(i),e.value="",t.value=(new Date).toJSON().slice(0,10),o.value="Normal",a.classList.remove("adding"),console.log(s)})(),o.classList.remove("adding"),c.classList.remove("adding"),document.querySelector(".main-container").classList.remove("show")})),t.addEventListener("click",(e=>{e.preventDefault(),o.classList.remove("adding"),c.classList.remove("adding"),document.querySelector(".main-container").classList.remove("show"),t.parentNode.parentNode.parentNode.classList.remove("adding")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YixPQUFPLFVBQ2hDK0MsRUFBaUJsQyxVQUFVYixPQUFPLFVBQ1poQixTQUFTWSxjQUFjLG1CQUMvQmlCLFVBQVViLE9BQU8sT0FBTyxJQUcxQ2lFLEVBQWlCMUMsaUJBQWlCLFNBQVU1QyxJQUN4Q0EsRUFBRTJFLGlCQUNGUixFQUFlakMsVUFBVWIsT0FBTyxVQUNoQytDLEVBQWlCbEMsVUFBVWIsT0FBTyxVQUNaaEIsU0FBU1ksY0FBYyxtQkFDL0JpQixVQUFVYixPQUFPLFFBQzVCaUUsRUFBMkIsV0FBWSxXQUFZLFdBQUVwRCxVQUFVYixPQUFPLFNBQVMsR0FDckYsRUd2SEwyRSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kb2xpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9tb2R1bGVzL3Rhc2tBZGQuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvbW9kdWxlcy9wcm9qZWN0LmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL21vZHVsZXMvaW5pdGlhbERPTS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImltcG9ydCBjaXJjbGUgZnJvbSBcIi4vaW1hZ2VzL2NpcmNlbC5wbmdcIjtcclxuaW1wb3J0IGNyb3NzIGZyb20gXCIuL2ltYWdlcy9jcm9zcy5wbmdcIjtcclxuaW1wb3J0IGJnSWNvbkFmdGVyIGZyb20gXCIuL2ltYWdlcy90YXNrLWFyZWEtaW1hZ2UtYWZ0ZXIucG5nXCI7XHJcbmltcG9ydCBiZ0ljb25CZWZvcmUgZnJvbSBcIi4vaW1hZ2VzL3Rhc2stYXJlYS1pbWFnZS5wbmdcIjtcclxuXHJcbi8vIGNvbnN0IHByb2plY3RzT2JqZWN0ID0ge307XHJcbmNvbnN0IHByb2plY3RzQXJyYXkgPSBbXTtcclxuY29uc3QgY2hlY2tUYXNrRXhpc3RzID0gKCk9PntcclxuICAgIGNvbnN0IHRhc2tzU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza3NcIik7XHJcbiAgICBjb25zdCBiZ0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iZy1pbWFnZVwiKTtcclxuICAgIGlmKHRhc2tzU2VjdGlvbi5jaGlsZHJlblswXS50ZXh0Q29udGVudCA9PT0gXCJObyBUYXNrIFlldCFcIil7Ly8gY2hlY2sgaWYgdGhlcmUgYXJlIGFueSB0YXNrXHJcbiAgICAgICAgdGFza3NTZWN0aW9uLmNoaWxkcmVuWzBdLnJlbW92ZSgpOy8vIGlmIHRhc2sgcmVtb3ZlcyB0aGUgaDFcclxuICAgICAgICBiZ0ltYWdlLnNyYyA9IGJnSWNvbkFmdGVyOy8vIGNobmFnZXMgYmcgaW1hZ2VcclxuICAgIH1cclxuICAgIGVsc2UgaWYodGFza3NTZWN0aW9uLmNoaWxkRWxlbWVudENvdW50ID09PSAxKXtcclxuICAgICAgICBjb25zdCBmcmVlVGltZVBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XHJcbiAgICAgICAgZnJlZVRpbWVQYXJhLnRleHRDb250ZW50ID0gXCJObyBUYXNrIFlldCFcIjtcclxuICAgICAgICB0YXNrc1NlY3Rpb24uaW5zZXJ0QmVmb3JlKGZyZWVUaW1lUGFyYSwgdGFza3NTZWN0aW9uLmNoaWxkcmVuWzBdKTtcclxuICAgICAgICBiZ0ltYWdlLnNyYyA9IGJnSWNvbkJlZm9yZTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgVGFzayA9IGNsYXNzey8vIGNvbnN0cnVjdG9yIGZvciBjb2xsZWN0aW5nIG5ld1Rhc2sgaW5mb1xyXG4gICAgY29uc3RydWN0b3IocHJvamVjdCx0aXRsZSwgZGF0ZSwgdHlwZSl7XHJcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdFxyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLmRhdGUgPSBkYXRlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFkZGluZ05ld1Rhc2soKXsvLyBjcmVhdGVzIGFuZCBhcHBlbmRzIG5ldyB0YXNrIFxyXG4gICAgICAgIGNvbnN0IHRhc2tzU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza3NcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIG5ld1Rhc2tEaXYuY2xhc3NMaXN0LmFkZChcInRhc2tcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhc2tOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgICAgdGFza05hbWUudGV4dENvbnRlbnQgPSB0aGlzLnRpdGxlO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgICAgIHRhc2tEYXRlLnRleHRDb250ZW50ID0gdGhpcy5kYXRlO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrU3RhdHVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgICAgdGFza1N0YXR1cy50ZXh0Q29udGVudCA9IHRoaXMudHlwZTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFza0J1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRhc2tCdXR0b25zLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLW9wdGlvblwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgZG9uZUljb24gPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBkb25lSWNvbi5zcmMgPSBjaXJjbGU7XHJcblxyXG4gICAgICAgIGNvbnN0IGRlbGV0ZUljb24gPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBkZWxldGVJY29uLnNyYyA9IGNyb3NzO1xyXG5cclxuICAgICAgICB0YXNrc1NlY3Rpb24uYXBwZW5kQ2hpbGQobmV3VGFza0Rpdik7XHJcbiAgICAgICAgbmV3VGFza0Rpdi5hcHBlbmRDaGlsZCh0YXNrTmFtZSk7XHJcbiAgICAgICAgbmV3VGFza0Rpdi5hcHBlbmRDaGlsZCh0YXNrRGF0ZSk7XHJcbiAgICAgICAgbmV3VGFza0Rpdi5hcHBlbmRDaGlsZCh0YXNrU3RhdHVzKTtcclxuICAgICAgICBuZXdUYXNrRGl2LmFwcGVuZENoaWxkKHRhc2tCdXR0b25zKTtcclxuICAgICAgICB0YXNrQnV0dG9ucy5hcHBlbmRDaGlsZChkb25lSWNvbik7XHJcbiAgICAgICAgdGFza0J1dHRvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlSWNvbik7XHJcbiAgICAgICAgY2hlY2tUYXNrRXhpc3RzKCk7XHJcblxyXG4gICAgICAgIGRvbmVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgICAgICAoKGRvbmVJY29uLnBhcmVudE5vZGUpLnBhcmVudE5vZGUpLmNsYXNzTGlzdC50b2dnbGUoXCJjb21wbGV0ZVwiKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGRlbGV0ZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT57XHJcbiAgICAgICAgICAgICgoZGVsZXRlSWNvbi5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgY2hlY2tUYXNrRXhpc3RzKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGFkZE5ld1Rhc2sgPSAoKT0+e1xyXG4gICAgY29uc3QgdGFza0Zvcm1OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLW5hbWVcIik7XHJcbiAgICBjb25zdCB0YXNrRm9ybURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZGF0ZVwiKTtcclxuICAgIGNvbnN0IHRhc2tGb3JtVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS10eXBlXCIpO1xyXG4gICAgY29uc3QgdGFza1Byb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWxpc3RcIikuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQ7XHJcblxyXG4gICAgLy8gZ2V0cyB2YWx1ZSBmcm9tIHRoZSBmb3JtXHJcbiAgICBjb25zdCB0YXNrRm9ybU5hbWVWYWx1ZSA9IHRhc2tGb3JtTmFtZS52YWx1ZTtcclxuICAgIGNvbnN0IHRhc2tGb3JtRGF0ZVZhbHVlID0gdGFza0Zvcm1EYXRlLnZhbHVlXHJcbiAgICBjb25zdCB0YXNrRm9ybVR5cGVWYWx1ZSA9IHRhc2tGb3JtVHlwZS52YWx1ZVxyXG4gICAgY29uc3QgYWRkVGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrLWZvcm1cIik7XHJcbiAgICBjb25zdCBuZXdUYXNrID0gbmV3IFRhc2sodGFza1Byb2plY3ROYW1lICx0YXNrRm9ybU5hbWVWYWx1ZSwgdGFza0Zvcm1EYXRlVmFsdWUsIHRhc2tGb3JtVHlwZVZhbHVlKTtcclxuICAgIG5ld1Rhc2suYWRkaW5nTmV3VGFzaygpOy8vIGNhbGxpbmcgZnVuY3Rpb25cclxuICAgIHByb2plY3RzQXJyYXkucHVzaChuZXdUYXNrKTtcclxuXHJcbiAgICBcclxuICAgIC8vIHByb2plY3RzQXJyYXkucHVzaCh0YXNrVGl0bGUuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQpO1xyXG4gICAgLy8gY29uc3QgdW5pcXVlUHJvamVjdHMgPSBbLi4ubmV3IFNldChwcm9qZWN0c0FycmF5KV07XHJcbiAgICAvLyBwcm9qZWN0c09iamVjdC50YXNrID0gdW5pcXVlUHJvamVjdHM7XHJcblxyXG4gICAgLy8gcmVzZXR0aW5nIGZvcm0gdmFsdWVcclxuICAgIHRhc2tGb3JtTmFtZS52YWx1ZSA9IFwiXCI7XHJcbiAgICB0YXNrRm9ybURhdGUudmFsdWUgPSBuZXcgRGF0ZSgpLnRvSlNPTigpLnNsaWNlKDAsMTApO1xyXG4gICAgdGFza0Zvcm1UeXBlLnZhbHVlID0gXCJOb3JtYWxcIjtcclxuICAgIGFkZFRhc2tGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJhZGRpbmdcIik7XHJcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0c0FycmF5KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHByb2plY3RzT2JqZWN0KTtcclxufVxyXG5cclxuY29uc3QgYWRkTmV3VGFza0V2ZW50ID0gKCk9PntcclxuICAgIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrLWJ1dHRvblwiKTtcclxuICAgIGNvbnN0IGNhbmNlbFRhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC10YXNrLWJ1dHRvblwiKTtcclxuICAgIGNvbnN0IGFkZEtleVZlcnRpY2FsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52ZXJ0aWNhbFwiKTtcclxuICAgIGNvbnN0IGFkZEtleUhvcml6b250b2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvcml6b250b2xcIik7XHJcblxyXG4gICAgYWRkVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT57XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGFkZE5ld1Rhc2soKTtcclxuICAgICAgICBhZGRLZXlWZXJ0aWNhbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkaW5nXCIpO1xyXG4gICAgICAgIGFkZEtleUhvcml6b250b2wuY2xhc3NMaXN0LnJlbW92ZShcImFkZGluZ1wiKTsvLyBhbmltYXRpb24gZm9yIGFkZCBpY29uIFxyXG4gICAgICAgIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGFpbmVyXCIpO1xyXG4gICAgICAgIG1haW5Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcbiAgICB9KVxyXG5cclxuICAgIGNhbmNlbFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKT0+e1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBhZGRLZXlWZXJ0aWNhbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkaW5nXCIpO1xyXG4gICAgICAgIGFkZEtleUhvcml6b250b2wuY2xhc3NMaXN0LnJlbW92ZShcImFkZGluZ1wiKTsvLyBhbmltYXRpb24gZm9yIGFkZCBpY29uIFxyXG4gICAgICAgIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGFpbmVyXCIpO1xyXG4gICAgICAgIG1haW5Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcbiAgICAgICAgKCgoY2FuY2VsVGFza0J1dHRvbi5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkaW5nXCIpO1xyXG4gICAgfSlcclxufVxyXG5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnRcclxuZXhwb3J0IHthZGROZXdUYXNrRXZlbnQsIHByb2plY3RzQXJyYXksIFRhc2ssIGNoZWNrVGFza0V4aXN0c307IiwiaW1wb3J0IHRhc2tJY29uIGZyb20gXCIuL2ltYWdlcy90YXNrX0ZJTEwwX3dnaHQ0MDBfR1JBRDBfb3BzejQ4LnBuZ1wiO1xyXG5pbXBvcnQgY3Jvc3NJY29uIGZyb20gXCIuL2ltYWdlcy9jcm9zcy5wbmdcIjtcclxuaW1wb3J0IHsgVGFzaywgcHJvamVjdHNBcnJheSwgY2hlY2tUYXNrRXhpc3RzIH0gZnJvbSBcIi4vdGFza0FkZFwiO1xyXG5cclxuY29uc3QgYWRkTmV3UHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXByb2plY3RcIik7XHJcbmNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWZvcm1cIik7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgbmV3UHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy1wcm9qZWN0c1wiKTtcclxuY29uc3QgY2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jbGUtYnV0dG9uXCIpO1xyXG5jb25zdCB0YXNrc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzXCIpO1xyXG5cclxuXHJcbmNvbnN0IHN0aCA9ICgpPT57XHJcbiAgICB3aGlsZSh0YXNrc1NlY3Rpb24uY2hpbGRFbGVtZW50Q291bnQ+MSl7XHJcbiAgICAgICAgdGFza3NTZWN0aW9uLmxhc3RDaGlsZC5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHRhc2tQcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1saXN0XCIpLmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xyXG4gICAgZm9yKGxldCBpPTA7aTxwcm9qZWN0c0FycmF5Lmxlbmd0aDtpKz0xKXtcclxuICAgICAgICBpZih0YXNrUHJvamVjdE5hbWUgPT09IHByb2plY3RzQXJyYXlbaV0ucHJvamVjdCl7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayhwcm9qZWN0c0FycmF5W2ldLnByb2plY3QscHJvamVjdHNBcnJheVtpXS50aXRsZSxcclxuICAgICAgICAgICAgICAgIHByb2plY3RzQXJyYXlbaV0uZGF0ZSxwcm9qZWN0c0FycmF5W2ldLnR5cGUpXHJcbiAgICAgICAgICAgIG5ld1Rhc2suYWRkaW5nTmV3VGFzaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYWNjZXNzUHJvamVjdHMgPSAoKT0+eyAvLyBhY2Nlc3MgbmFtZXMgb2YgcHJvamVjdHNcclxuICAgIGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNwcm9qZWN0XCIpO1xyXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWxpc3RcIik7XHJcblxyXG4gICAgcHJvamVjdHMuZm9yRWFjaCgocHJvamVjdCk9PntcclxuICAgICAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgICAgICBwcm9qZWN0VGl0bGUuY2hpbGROb2Rlc1sxXS50ZXh0Q29udGVudCA9IHByb2plY3QudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIHN0aCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuY29uc3QgYWRkUHJvamVjdCA9ICgpPT57Ly8gY3JlYXRlcyBuZXcgcHJvamVjdCBkaXYgYW5kIGFwcGVuZHMgYmVmb3JlIHRoZSBhZGQgYnV0dG9uXHJcbiAgICBjb25zdCBuZXdQcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdEFkZFBvcHVwXCIpO1xyXG5cclxuICAgIGNvbnN0IG5ld1Byb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbmV3UHJvamVjdERpdi5jbGFzc0xpc3QuYWRkKFwibmV3LXByb2plY3QtdGl0bGVcIilcclxuICAgIG5ld1Byb2plY3RzLmluc2VydEJlZm9yZShuZXdQcm9qZWN0RGl2LCBuZXdQcm9qZWN0cy5jaGlsZHJlbltuZXdQcm9qZWN0cy5jaGlsZEVsZW1lbnRDb3VudC0xXSk7XHJcblxyXG4gICAgY29uc3QgbmV3UHJvamVjdEltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICBuZXdQcm9qZWN0SW1hZ2Uuc3JjID0gdGFza0ljb247XHJcbiAgICBuZXdQcm9qZWN0RGl2LmFwcGVuZENoaWxkKG5ld1Byb2plY3RJbWFnZSk7XHJcblxyXG4gICAgY29uc3QgbmV3UHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICBuZXdQcm9qZWN0QnV0dG9uLmlkID0gXCJwcm9qZWN0XCI7XHJcbiAgICBuZXdQcm9qZWN0QnV0dG9uLnRleHRDb250ZW50ID0gbmV3UHJvamVjdE5hbWUudmFsdWU7XHJcbiAgICBuZXdQcm9qZWN0RGl2LmFwcGVuZENoaWxkKG5ld1Byb2plY3RCdXR0b24pO1xyXG4gICAgbmV3UHJvamVjdE5hbWUudmFsdWU9IFwiXCI7XHJcbiAgICBwcm9qZWN0Rm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcclxuXHJcbiAgICBjb25zdCBjcm9zc0ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICBjcm9zc0ltYWdlLnNyYyA9IGNyb3NzSWNvbjtcclxuICAgIG5ld1Byb2plY3REaXYuYXBwZW5kQ2hpbGQoY3Jvc3NJbWFnZSk7XHJcblxyXG4gICAgY3Jvc3NJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICAoY3Jvc3NJbWFnZS5wYXJlbnROb2RlKS5yZW1vdmUoKTtcclxuICAgIH0pXHJcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0c0FycmF5KVxyXG4gICAgYWNjZXNzUHJvamVjdHMoKTtcclxufVxyXG5cclxuY29uc3QgcHJvamVjdEFkZGluZ0V2ZW50cyA9KCk9PntcclxuICAgIGFkZE5ld1Byb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT57XHJcbiAgICAgICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LmFkZChcInNob3dcIik7Ly8gZm9ybSBmb3IgbmV3IHByb2plY3QgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSk9PntcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgYWRkUHJvamVjdCgpOy8vIHN1Ym1pdHMgZm9ybVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSk9PntcclxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdEFkZFBvcHVwXCIpXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHByb2plY3RGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgICAgIG5ld1Byb2plY3ROYW1lLnZhbHVlPSBcIlwiOyAvLyBjYW5jZWxzIHRoZSBmb3JtIGV4ZWN1dGlvblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7YWNjZXNzUHJvamVjdHMsIHByb2plY3RBZGRpbmdFdmVudHN9XHJcbmV4cG9ydCB7cHJvamVjdEZvcm0sIG5ld1Byb2plY3RzfTsiLCJpbXBvcnQge3Byb2plY3RGb3JtLG5ld1Byb2plY3RzfSBmcm9tIFwiLi9wcm9qZWN0XCI7XHJcblxyXG5jb25zdCBET01hbmltYXRpb24gPSAoKT0+e1xyXG4gICAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudVwiKTtcclxuICAgIGNvbnN0IG5hdkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIik7XHJcbiAgICBjb25zdCB0YXNrQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1saXN0XCIpO1xyXG4gICAgY29uc3QgdGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzXCIpO1xyXG4gICAgY29uc3QgdGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza1wiKTtcclxuICAgIGNvbnN0IGFkZEtleSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhc2tcIilcclxuICAgIGNvbnN0IGFkZEtleVZlcnRpY2FsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52ZXJ0aWNhbFwiKTtcclxuICAgIGNvbnN0IGFkZEtleUhvcml6b250b2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvcml6b250b2xcIik7XHJcbiAgICBjb25zdCBhZGRUYXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhc2stZm9ybVwiKTtcclxuXHJcbiAgICB0YXNrQXJlYS5jaGlsZHJlblswXS50ZXh0Q29udGVudCA9IFwiQ2FzdWFsXCI7XHJcbiAgICBtZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+eyAvLyBmb3IgbWVudSBiYXIgdmlzaWJsZVxyXG4gICAgICAgIGlmKG5ld1Byb2plY3RzLmNoaWxkRWxlbWVudENvdW50ID4yKXtcclxuICAgICAgICAgICAgY29uc3QgbmV3UHJvamVjdERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3LXByb2plY3QtdGl0bGVcIik7XHJcbiAgICAgICAgICAgIG5ld1Byb2plY3REaXYuZm9yRWFjaCgoeCk9PntcclxuICAgICAgICAgICAgICAgIHguY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7Ly8gZm9yIHJlbW92aW5nIHRoZSBuZXdQcm9qZWN0c0Zvcm0gd2l0aCBtZW51IGNsb3NpbmdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiY2hhbmdlXCIpO1xyXG4gICAgICAgIG5hdkJhci5jbGFzc0xpc3QudG9nZ2xlKFwic2hvd1wiKTsgICAgXHJcbiAgICAgICAgdGFza0FyZWEuY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbiAgICAgICAgYWRkVGFza0Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbiAgICAgICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcbiAgICAgICAgdGFza3MuY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbiAgICAgICAgdGFzay5jbGFzc0xpc3QudG9nZ2xlKFwic2hvd1wiKTtcclxuICAgICAgICBcclxuICAgIH0pO1xyXG5cclxuICAgIGFkZEtleS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PnsgLy8gZm9yIGFkZGluZyB0YXNrIFxyXG4gICAgICAgIGFkZEtleVZlcnRpY2FsLmNsYXNzTGlzdC50b2dnbGUoXCJhZGRpbmdcIik7XHJcbiAgICAgICAgYWRkS2V5SG9yaXpvbnRvbC5jbGFzc0xpc3QudG9nZ2xlKFwiYWRkaW5nXCIpOy8vIGFuaW1hdGlvbiBmb3IgYWRkIGljb25cclxuICAgICAgICBhZGRUYXNrRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwiYWRkaW5nXCIpOy8vIG1ha2VzIHRhc2sgZm9ybSB2aXNpYmxlXHJcblxyXG4gICAgICAgICgobWVudS5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKVxyXG5cclxuICAgICAgICAvLyB3aGVuIGZvcm0gb3BlbnMgZGF0ZSBpcyBzZXQgaW5pdGlhbGx5IHRvIHRvZGF5cyBkYXRlXHJcbiAgICAgICAgY29uc3QgdGFza0Zvcm1EYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWRhdGVcIik7XHJcbiAgICAgICAgdGFza0Zvcm1EYXRlLnZhbHVlID0gbmV3IERhdGUoKS50b0pTT04oKS5zbGljZSgwLDEwKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBET01hbmltYXRpb247IiwiaW1wb3J0IERPTWFuaW1hdGlvbiBmcm9tIFwiLi9tb2R1bGVzL2luaXRpYWxET01cIjtcclxuaW1wb3J0IHsgYWNjZXNzUHJvamVjdHMsIHByb2plY3RBZGRpbmdFdmVudHMgfSBmcm9tIFwiLi9tb2R1bGVzL3Byb2plY3RcIjtcclxuaW1wb3J0IHsgYWRkTmV3VGFza0V2ZW50IH0gZnJvbSBcIi4vbW9kdWxlcy90YXNrQWRkXCI7XHJcblxyXG5ET01hbmltYXRpb24oKTtcclxuYWNjZXNzUHJvamVjdHMoKTtcclxucHJvamVjdEFkZGluZ0V2ZW50cygpO1xyXG5hZGROZXdUYXNrRXZlbnQoKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwicHJvamVjdHNBcnJheSIsImNoZWNrVGFza0V4aXN0cyIsInRhc2tzU2VjdGlvbiIsInF1ZXJ5U2VsZWN0b3IiLCJiZ0ltYWdlIiwiY2hpbGRyZW4iLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsImNoaWxkRWxlbWVudENvdW50IiwiZnJlZVRpbWVQYXJhIiwiY3JlYXRlRWxlbWVudCIsImluc2VydEJlZm9yZSIsIlRhc2siLCJjb25zdHJ1Y3RvciIsInByb2plY3QiLCJ0aXRsZSIsImRhdGUiLCJ0eXBlIiwiYWRkaW5nTmV3VGFzayIsIm5ld1Rhc2tEaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0YXNrTmFtZSIsInRhc2tEYXRlIiwidGFza1N0YXR1cyIsInRhc2tCdXR0b25zIiwiZG9uZUljb24iLCJJbWFnZSIsImRlbGV0ZUljb24iLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGUiLCJhZGROZXdQcm9qZWN0IiwicHJvamVjdEZvcm0iLCJhZGRCdXR0b24iLCJuZXdQcm9qZWN0cyIsImNhbmNlbEJ1dHRvbiIsImFjY2Vzc1Byb2plY3RzIiwicHJvamVjdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJvamVjdFRpdGxlIiwiZm9yRWFjaCIsImNoaWxkTm9kZXMiLCJsYXN0Q2hpbGQiLCJ0YXNrUHJvamVjdE5hbWUiLCJpIiwic3RoIiwibWVudSIsIm5hdkJhciIsInRhc2tBcmVhIiwidGFza3MiLCJ0YXNrIiwiYWRkS2V5IiwiYWRkS2V5VmVydGljYWwiLCJhZGRLZXlIb3Jpem9udG9sIiwiYWRkVGFza0Zvcm0iLCJ4IiwidmFsdWUiLCJEYXRlIiwidG9KU09OIiwic2xpY2UiLCJwcmV2ZW50RGVmYXVsdCIsIm5ld1Byb2plY3ROYW1lIiwibmV3UHJvamVjdERpdiIsIm5ld1Byb2plY3RJbWFnZSIsIm5ld1Byb2plY3RCdXR0b24iLCJpZCIsImNyb3NzSW1hZ2UiLCJjb25zb2xlIiwibG9nIiwiYWRkUHJvamVjdCIsImFkZFRhc2tCdXR0b24iLCJjYW5jZWxUYXNrQnV0dG9uIiwidGFza0Zvcm1OYW1lIiwidGFza0Zvcm1EYXRlIiwidGFza0Zvcm1UeXBlIiwidGFza0Zvcm1OYW1lVmFsdWUiLCJ0YXNrRm9ybURhdGVWYWx1ZSIsInRhc2tGb3JtVHlwZVZhbHVlIiwibmV3VGFzayIsInB1c2giLCJhZGROZXdUYXNrIiwiYWRkTmV3VGFza0V2ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==