(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"1f757ac1762962d60ddc.png",n=e.p+"d367d5dbff6ca8e7e2f2.png",o=e.p+"df3b5dddd60da7069980.png",r=e.p+"d746fdde6c6bcecb1e30.png",c=e.p+"fe50e1a3f0405d606b0c.png",s=e.p+"cfabfc38136dc55a9a0d.png",l=document.querySelector(".edit-task-form"),a=document.querySelector(".main-container"),d=()=>{const e=document.querySelector(".edit-icon"),t=document.querySelector(".task-list").children[0].textContent;e.addEventListener("click",(()=>{const n=e.parentNode.parentNode.children[0],o=e.parentNode.parentNode.children[1],r=e.parentNode.parentNode.children[2],c=document.querySelector(".edit-name"),s=document.querySelector(".edit-date"),d=document.querySelector(".edit-type"),u=document.querySelector(".edit-task-button");s.value=(new Date).toJSON().slice(0,10),u.addEventListener("click",(e=>{e.preventDefault();for(let e=0;e<i.length;e+=1)n.textContent.toLowerCase()===i[e].title.toLowerCase()&&(i[e].title=`${c.value} (${t})`,i[e].date=s.value,i[e].type=d.value);n.textContent=`${c.value} (${t})`,o.textContent=s.value,r.textContent=d.value,l.classList.remove("adding"),a.classList.remove("show")})),l.classList.add("adding"),a.classList.add("show")}))},i=[],u=()=>{const e=document.querySelector(".tasks"),t=document.querySelector(".bg-image");e.childElementCount>1?t.src=c:1===e.childElementCount&&(t.src=s)},m=class{constructor(e,t,n,o,r){this.project=e,this.title=t,this.date=n,this.type=o,this.status=r}addingNewTask(){const e=document.querySelector(".tasks"),t=document.createElement("div");t.classList.add("task");const c=document.createElement("p");c.textContent=this.title;const s=document.createElement("p");s.textContent=this.date;const l=document.createElement("p");l.textContent=this.type;const a=document.createElement("div");a.classList.add("task-option");const d=new Image;d.src=o;const m=new Image;m.src=n;const p=new Image;p.classList.add("edit-icon"),p.src=r,"complete"===this.status&&t.classList.add("complete"),e.appendChild(t),t.appendChild(c),t.appendChild(s),t.appendChild(l),t.appendChild(a),a.appendChild(d),a.appendChild(m),a.appendChild(p),u(),d.addEventListener("click",(()=>{const e=d.parentNode.parentNode.children[0].textContent;for(let t=0;t<i.length;t+=1)e===i[t].title&&("complete"===i[t].status?i[t].status="incomplete":"incomplete"===i[t].status&&(i[t].status="complete"));d.parentNode.parentNode.classList.toggle("complete")})),m.addEventListener("click",(()=>{const e=m.parentNode.parentNode.children[0].textContent;for(let t=0;t<i.length;t+=1)e===i[t].title&&i.splice(t,1);m.parentNode.parentNode.remove(),u()}))}};function p(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e){p(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===h(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function g(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var y={};function f(){return y}function w(e,t){var n,o,r,c,s,l,a,d;p(1,arguments);var i=f(),u=g(null!==(n=null!==(o=null!==(r=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(s=t.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:i.weekStartsOn)&&void 0!==o?o:null===(a=i.locale)||void 0===a||null===(d=a.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=v(e),h=m.getDay(),y=(h<u?7:0)+h-u;return m.setDate(m.getDate()-y),m.setHours(0,0,0,0),m}function S(e,t,n){p(2,arguments);var o=w(e,n),r=w(t,n);return o.getTime()===r.getTime()}function L(e,t){return p(2,arguments),S(e,t,{weekStartsOn:1})}const C=document.querySelector(".tasks"),k=document.querySelector(".task-list").children[0],q=document.querySelector(".add-task"),N=document.querySelector(".new-project"),b=document.querySelector(".project-form"),E=document.querySelector(".add-button"),x=document.querySelector(".new-projects"),j=document.querySelector(".cancle-button"),D=document.querySelector(".tasks"),T=[],O=()=>{for(;D.childElementCount>1;)D.lastChild.remove();const e=document.querySelector(".task-list").children[0].textContent;for(let t=0;t<i.length;t+=1)e===i[t].project&&new m(i[t].project,i[t].title,i[t].date,i[t].type,i[t].status).addingNewTask();u()},$=()=>{const e=document.querySelectorAll("#project"),t=document.querySelector(".task-list");e.forEach((e=>{e.addEventListener("click",(()=>(q.classList.remove("hide"),t.childNodes[1].textContent!==e.textContent&&(t.childNodes[1].textContent=e.textContent,O(),d(),0))))}))};(()=>{const e=document.querySelector(".menu"),t=document.querySelector(".projects"),n=document.querySelector(".task-list"),o=document.querySelector(".tasks"),r=document.querySelector(".task"),c=document.querySelector(".add-task"),s=document.querySelector(".vertical"),l=document.querySelector(".horizontol"),a=document.querySelector(".add-task-form");n.children[0].textContent="Casual",e.addEventListener("click",(()=>{x.childElementCount>2&&document.querySelectorAll(".new-project-title").forEach((e=>{e.classList.toggle("show")})),e.classList.toggle("change"),t.classList.toggle("show"),n.classList.toggle("show"),a.classList.toggle("show"),b.classList.remove("show"),o.classList.toggle("show"),r.classList.toggle("show")})),c.addEventListener("click",(()=>{s.classList.toggle("adding"),l.classList.toggle("adding"),a.classList.toggle("adding"),e.parentNode.parentNode.classList.add("show"),document.querySelector(".form-date").value=(new Date).toJSON().slice(0,10)})),document.querySelector(".all-task").addEventListener("click",(()=>{for(q.classList.remove("hide"),q.classList.add("hide");C.childElementCount>1;)C.lastChild.remove();k.textContent="All Task";for(let e=0;e<i.length;e+=1)new m(i[e].project,i[e].title,i[e].date,i[e].type,i[e].status).addingNewTask();u()})),document.querySelector(".today").addEventListener("click",(()=>{for(q.classList.remove("hide"),q.classList.add("hide");C.childElementCount>1;)C.lastChild.remove();k.textContent="Today";const e=(new Date).toJSON().slice(0,10);for(let t=0;t<i.length;t+=1)e===i[t].date&&new m(i[t].project,i[t].title,i[t].date,i[t].type,i[t].status).addingNewTask();u()})),document.querySelector(".this-week").addEventListener("click",(()=>{for(q.classList.remove("hide"),q.classList.add("hide");C.childElementCount>1;)C.lastChild.remove();k.textContent="This Week";const e=(new Date).toJSON().slice(0,10);for(let t=0;t<i.length;t+=1){const n=i[t].date.split("-"),o=e.split("-");L(new Date(o[0],o[1],o[2]),new Date(n[0],n[1],n[2]))&&new m(i[t].project,i[t].title,i[t].date,i[t].type,i[t].status).addingNewTask()}u()}))})(),$(),N.addEventListener("click",(()=>{b.classList.add("show")})),E.addEventListener("click",(e=>{e.preventDefault(),(()=>{const e=document.querySelector(".projectAddPopup");if(""===e.value)return!1;for(let t=0;t<T.length;t+=1)if(e.value.toLowerCase()===T[t])return e.style.borderColor="red",!1;const o=document.createElement("div");o.classList.add("new-project-title"),x.insertBefore(o,x.children[x.childElementCount-1]);const r=new Image;r.src=t,o.appendChild(r);const c=document.createElement("button");c.id="project",c.textContent=e.value,o.appendChild(c);const s=document.querySelector(".task-list");s.childNodes[1].textContent=e.value,O(),T.push(e.value.toLowerCase()),q.classList.remove("hide"),e.value="",b.classList.remove("show");const l=new Image;l.src=n,o.appendChild(l),l.addEventListener("click",(()=>{const e=l.parentNode.children[1].textContent;if(1===D.childElementCount)l.parentNode.remove(),s.childNodes[1].textContent="Casual",O();else{for(let t=0;t<=i.length;t+=1)e===i[t].project&&i.splice(t,1);for(let t=0;t<=T.length;t+=1)e===T[t]&&T.splice(t,1);l.parentNode.remove(),s.childNodes[1].textContent="Casual",O()}})),$()})()})),j.addEventListener("click",(e=>{const t=document.querySelector(".projectAddPopup");e.preventDefault(),b.classList.remove("show"),t.value=""})),(()=>{const e=document.querySelector(".add-task-button"),t=document.querySelector(".cancel-task-button"),n=document.querySelector(".vertical"),o=document.querySelector(".horizontol");e.addEventListener("click",(e=>{e.preventDefault(),(()=>{const e=document.querySelector(".form-name"),t=document.querySelector(".form-date"),n=document.querySelector(".form-type"),o=document.querySelector(".task-list").children[0].textContent,r=`${e.value} (${o})`,c=t.value,s=n.value;if(""===e.value)return alert("Enter some Task Name"),!1;for(let e=0;e<i.length;e+=1)if(r.toLowerCase()===i[e].title.toLowerCase())return alert("Task Already Exists"),!1;const l=new m(o,r,c,s,"incomplete");l.addingNewTask(),i.push(l),console.log(i),e.value="",t.value=(new Date).toJSON().slice(0,10),n.value="Normal",d()})(),document.querySelector(".add-task-form").classList.remove("adding"),n.classList.remove("adding"),o.classList.remove("adding"),document.querySelector(".main-container").classList.remove("show")})),t.addEventListener("click",(e=>{e.preventDefault(),n.classList.remove("adding"),o.classList.remove("adding"),document.querySelector(".main-container").classList.remove("show"),t.parentNode.parentNode.parentNode.classList.remove("adding")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0MsU0FBU0MsTUFBTSxFQUFFLElBQ2pEc0ksRUFBYXpJLE1BQVEsU0FHckIsR0FDUSxFQVlKZ0osR0FDb0J4SyxTQUFTVSxjQUFjLGtCQUUvQnlCLFVBQVVDLE9BQU8sVUFFN0JzRyxFQUFldkcsVUFBVUMsT0FBTyxVQUNoQ3VHLEVBQWlCeEcsVUFBVUMsT0FBTyxVQUNacEMsU0FBU1UsY0FBYyxtQkFDL0J5QixVQUFVQyxPQUFPLE9BQU8sSUFHMUMwSCxFQUFpQjlJLGlCQUFpQixTQUFVckIsSUFDeENBLEVBQUVpQyxpQkFDRjhHLEVBQWV2RyxVQUFVQyxPQUFPLFVBQ2hDdUcsRUFBaUJ4RyxVQUFVQyxPQUFPLFVBQ1pwQyxTQUFTVSxjQUFjLG1CQUMvQnlCLFVBQVVDLE9BQU8sUUFDNUIwSCxFQUEyQixXQUFZLFdBQVksV0FBRTNILFVBQVVDLE9BQU8sU0FBUyxHQUNyRixFV3ZLTHFJLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL21vZHVsZXMvZWRpdFRhc2tEZXRhaWxzLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL21vZHVsZXMvdGFza0FkZC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3RvRGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi90b0ludGVnZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvZGVmYXVsdE9wdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3N0YXJ0T2ZXZWVrL2luZGV4LmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1NhbWVXZWVrL2luZGV4LmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1NhbWVJU09XZWVrL2luZGV4LmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL21vZHVsZXMvdGltZVdpc2VUYXNrcy5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9tb2R1bGVzL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvbW9kdWxlcy9pbml0aWFsRE9NLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0IHsgcHJvamVjdHNBcnJheSB9IGZyb20gXCIuL3Rhc2tBZGRcIjtcclxuXHJcblxyXG5jb25zdCBlZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC10YXNrLWZvcm1cIik7XHJcbmNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGFpbmVyXCIpO1xyXG5jb25zdCBlZGl0VGFzayA9ICgpPT57XHJcbiAgICBjb25zdCBlZGl0SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1pY29uXCIpO1xyXG4gICAgY29uc3QgdGFza1Byb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWxpc3RcIikuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQ7XHJcbiAgICBlZGl0SWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICBjb25zdCBvbGROYW1lID0gKChlZGl0SWNvbi5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5jaGlsZHJlblswXTtcclxuICAgICAgICBjb25zdCBvbGREYXRlID0gKChlZGl0SWNvbi5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5jaGlsZHJlblsxXTtcclxuICAgICAgICBjb25zdCBvbGRUeXBlID0gKChlZGl0SWNvbi5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5jaGlsZHJlblsyXTtcclxuXHJcbiAgICAgICAgY29uc3QgZWRpdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtbmFtZVwiKTtcclxuICAgICAgICBjb25zdCBlZGl0RGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1kYXRlXCIpO1xyXG4gICAgICAgIGNvbnN0IGVkaXRUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LXR5cGVcIik7XHJcbiAgICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC10YXNrLWJ1dHRvblwiKTtcclxuXHJcbiAgICAgICAgZWRpdERhdGUudmFsdWUgPSBuZXcgRGF0ZSgpLnRvSlNPTigpLnNsaWNlKDAsMTApO1xyXG4gICAgICAgIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKT0+e1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8cHJvamVjdHNBcnJheS5sZW5ndGg7aSs9MSl7XHJcbiAgICAgICAgICAgICAgICBpZihvbGROYW1lLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkgPT09IHByb2plY3RzQXJyYXlbaV0udGl0bGUudG9Mb3dlckNhc2UoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNBcnJheVtpXS50aXRsZSA9IGAke2VkaXROYW1lLnZhbHVlfSAoJHt0YXNrUHJvamVjdE5hbWV9KWA7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNBcnJheVtpXS5kYXRlID0gZWRpdERhdGUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNBcnJheVtpXS50eXBlID0gZWRpdFR5cGUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb2xkTmFtZS50ZXh0Q29udGVudCA9IGAke2VkaXROYW1lLnZhbHVlfSAoJHt0YXNrUHJvamVjdE5hbWV9KWA7XHJcbiAgICAgICAgICAgIG9sZERhdGUudGV4dENvbnRlbnQgPSBlZGl0RGF0ZS52YWx1ZTtcclxuICAgICAgICAgICAgb2xkVHlwZS50ZXh0Q29udGVudCA9IGVkaXRUeXBlLnZhbHVlO1xyXG4gICAgICAgICAgICBlZGl0Rm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkaW5nXCIpO1xyXG4gICAgICAgICAgICBtYWluQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cob2xkTmFtZS5qb2luKFwiIFwiKSk7XHJcbiAgICAgICAgZWRpdEZvcm0uY2xhc3NMaXN0LmFkZChcImFkZGluZ1wiKTtcclxuICAgICAgICBtYWluQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZWRpdFRhc2siLCJpbXBvcnQgY2lyY2xlIGZyb20gXCIuL2ltYWdlcy9jaXJjZWwucG5nXCI7XHJcbmltcG9ydCBjcm9zcyBmcm9tIFwiLi9pbWFnZXMvY3Jvc3MucG5nXCI7XHJcbmltcG9ydCBlZGl0IGZyb20gXCIuL2ltYWdlcy9lZGl0LnBuZ1wiO1xyXG5pbXBvcnQgYmdJY29uQWZ0ZXIgZnJvbSBcIi4vaW1hZ2VzL3Rhc2stYXJlYS1pbWFnZS1hZnRlci5wbmdcIjtcclxuaW1wb3J0IGJnSWNvbkJlZm9yZSBmcm9tIFwiLi9pbWFnZXMvdGFzay1hcmVhLWltYWdlLnBuZ1wiO1xyXG5pbXBvcnQgZWRpdFRhc2sgZnJvbSBcIi4vZWRpdFRhc2tEZXRhaWxzXCI7XHJcblxyXG4vLyBjb25zdCBwcm9qZWN0c09iamVjdCA9IHt9O1xyXG5jb25zdCBwcm9qZWN0c0FycmF5ID0gW107XHJcbmNvbnN0IGNoZWNrVGFza0V4aXN0cyA9ICgpPT57XHJcbiAgICBjb25zdCB0YXNrc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzXCIpO1xyXG4gICAgY29uc3QgYmdJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmctaW1hZ2VcIik7XHJcbiAgICBpZih0YXNrc1NlY3Rpb24uY2hpbGRFbGVtZW50Q291bnQgPiAxKXsvLyBjaGVjayBpZiB0aGVyZSBhcmUgYW55IHRhc2tcclxuICAgICAgICBiZ0ltYWdlLnNyYyA9IGJnSWNvbkFmdGVyOy8vIGNobmFnZXMgYmcgaW1hZ2VcclxuICAgIH1cclxuICAgIGVsc2UgaWYodGFza3NTZWN0aW9uLmNoaWxkRWxlbWVudENvdW50ID09PSAxKXtcclxuICAgICAgICBiZ0ltYWdlLnNyYyA9IGJnSWNvbkJlZm9yZTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgVGFzayA9IGNsYXNzey8vIGNvbnN0cnVjdG9yIGZvciBjb2xsZWN0aW5nIG5ld1Rhc2sgaW5mb1xyXG4gICAgY29uc3RydWN0b3IocHJvamVjdCx0aXRsZSwgZGF0ZSwgdHlwZSwgc3RhdHVzKXtcclxuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcclxuICAgIH1cclxuICAgIFxyXG4gICAgYWRkaW5nTmV3VGFzaygpey8vIGNyZWF0ZXMgYW5kIGFwcGVuZHMgbmV3IHRhc2sgXHJcbiAgICAgICAgY29uc3QgdGFza3NTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrc1wiKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3VGFza0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgbmV3VGFza0Rpdi5jbGFzc0xpc3QuYWRkKFwidGFza1wiKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFza05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICAgICAgICB0YXNrTmFtZS50ZXh0Q29udGVudCA9IHRoaXMudGl0bGU7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhc2tEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgICAgdGFza0RhdGUudGV4dENvbnRlbnQgPSB0aGlzLmRhdGU7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhc2tTdGF0dXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICAgICAgICB0YXNrU3RhdHVzLnRleHRDb250ZW50ID0gdGhpcy50eXBlO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGFza0J1dHRvbnMuY2xhc3NMaXN0LmFkZChcInRhc2stb3B0aW9uXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBkb25lSWNvbiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIGRvbmVJY29uLnNyYyA9IGNpcmNsZTtcclxuXHJcbiAgICAgICAgY29uc3QgZGVsZXRlSWNvbiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIGRlbGV0ZUljb24uc3JjID0gY3Jvc3M7XHJcblxyXG4gICAgICAgIGNvbnN0IGVkaXRJY29uID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZChcImVkaXQtaWNvblwiKVxyXG4gICAgICAgIGVkaXRJY29uLnNyYyA9IGVkaXQ7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc3RhdHVzID09PSBcImNvbXBsZXRlXCIpe1xyXG4gICAgICAgICAgICBuZXdUYXNrRGl2LmNsYXNzTGlzdC5hZGQoXCJjb21wbGV0ZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRhc2tzU2VjdGlvbi5hcHBlbmRDaGlsZChuZXdUYXNrRGl2KTtcclxuICAgICAgICBuZXdUYXNrRGl2LmFwcGVuZENoaWxkKHRhc2tOYW1lKTtcclxuICAgICAgICBuZXdUYXNrRGl2LmFwcGVuZENoaWxkKHRhc2tEYXRlKTtcclxuICAgICAgICBuZXdUYXNrRGl2LmFwcGVuZENoaWxkKHRhc2tTdGF0dXMpO1xyXG4gICAgICAgIG5ld1Rhc2tEaXYuYXBwZW5kQ2hpbGQodGFza0J1dHRvbnMpO1xyXG4gICAgICAgIHRhc2tCdXR0b25zLmFwcGVuZENoaWxkKGRvbmVJY29uKTtcclxuICAgICAgICB0YXNrQnV0dG9ucy5hcHBlbmRDaGlsZChkZWxldGVJY29uKTtcclxuICAgICAgICB0YXNrQnV0dG9ucy5hcHBlbmRDaGlsZChlZGl0SWNvbik7XHJcbiAgICAgICAgY2hlY2tUYXNrRXhpc3RzKCk7XHJcblxyXG4gICAgICAgIGRvbmVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRUYXNrVGl0bGUgPSAoKGRvbmVJY29uLnBhcmVudE5vZGUpLnBhcmVudE5vZGUpLmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgPTA7IGk8cHJvamVjdHNBcnJheS5sZW5ndGg7aSs9MSl7IC8vIGNobmFnZXMgdGhlIHN0YXR1cyBvZiB0aGUgdGFzayBcclxuICAgICAgICAgICAgICAgIGlmKGNvbXBsZXRlZFRhc2tUaXRsZSA9PT0gcHJvamVjdHNBcnJheVtpXS50aXRsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocHJvamVjdHNBcnJheVtpXS5zdGF0dXMgPT09IFwiY29tcGxldGVcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RzQXJyYXlbaV0uc3RhdHVzID0gXCJpbmNvbXBsZXRlXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihwcm9qZWN0c0FycmF5W2ldLnN0YXR1cyA9PT0gXCJpbmNvbXBsZXRlXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0FycmF5W2ldLnN0YXR1cyA9IFwiY29tcGxldGVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICgoZG9uZUljb24ucGFyZW50Tm9kZSkucGFyZW50Tm9kZSkuY2xhc3NMaXN0LnRvZ2dsZShcImNvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwcm9qZWN0c0FycmF5KTsgIFxyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBkZWxldGVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVkVGFza1RpdGxlID0gKChkZWxldGVJY29uLnBhcmVudE5vZGUpLnBhcmVudE5vZGUpLmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBmb3IobGV0IGk9MDtpPHByb2plY3RzQXJyYXkubGVuZ3RoO2krPTEpey8vIHJlbW92ZXMgdGhlIHRhc2sgZnJvbSB0aGUgbWFpbiBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYocmVtb3ZlZFRhc2tUaXRsZSA9PT0gcHJvamVjdHNBcnJheVtpXS50aXRsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNBcnJheS5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwcm9qZWN0c0FycmF5KTtcclxuICAgICAgICAgICAgKChkZWxldGVJY29uLnBhcmVudE5vZGUpLnBhcmVudE5vZGUpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBjaGVja1Rhc2tFeGlzdHMoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgYWRkTmV3VGFzayA9ICgpPT57XHJcbiAgICBjb25zdCB0YXNrRm9ybU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tbmFtZVwiKTtcclxuICAgIGNvbnN0IHRhc2tGb3JtRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1kYXRlXCIpO1xyXG4gICAgY29uc3QgdGFza0Zvcm1UeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXR5cGVcIik7XHJcbiAgICBjb25zdCB0YXNrUHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stbGlzdFwiKS5jaGlsZHJlblswXS50ZXh0Q29udGVudDtcclxuXHJcbiAgICAvLyBnZXRzIHZhbHVlIGZyb20gdGhlIGZvcm1cclxuICAgIGNvbnN0IHRhc2tGb3JtTmFtZVZhbHVlID0gYCR7dGFza0Zvcm1OYW1lLnZhbHVlfSAoJHt0YXNrUHJvamVjdE5hbWV9KWA7XHJcbiAgICBjb25zdCB0YXNrRm9ybURhdGVWYWx1ZSA9IHRhc2tGb3JtRGF0ZS52YWx1ZTtcclxuICAgIGNvbnN0IHRhc2tGb3JtVHlwZVZhbHVlID0gdGFza0Zvcm1UeXBlLnZhbHVlO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gXCJpbmNvbXBsZXRlXCI7XHJcblxyXG4gICAgaWYodGFza0Zvcm1OYW1lLnZhbHVlID09PSBcIlwiKXtcclxuICAgICAgICBhbGVydChcIkVudGVyIHNvbWUgVGFzayBOYW1lXCIpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yKGxldCBpPTA7aTxwcm9qZWN0c0FycmF5Lmxlbmd0aDtpKz0xKXsvLyBjaGVjayBpZiB0aGUgcHJvamVjdCBhbHJlYWR5IGV4aXN0c1xyXG4gICAgICAgIGlmKHRhc2tGb3JtTmFtZVZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IHByb2plY3RzQXJyYXlbaV0udGl0bGUudG9Mb3dlckNhc2UoKSl7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiVGFzayBBbHJlYWR5IEV4aXN0c1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayh0YXNrUHJvamVjdE5hbWUgLHRhc2tGb3JtTmFtZVZhbHVlLCB0YXNrRm9ybURhdGVWYWx1ZSwgdGFza0Zvcm1UeXBlVmFsdWUsIHN0YXR1cyk7XHJcbiAgICBuZXdUYXNrLmFkZGluZ05ld1Rhc2soKTsvLyBjYWxsaW5nIGZ1bmN0aW9uXHJcbiAgICBwcm9qZWN0c0FycmF5LnB1c2gobmV3VGFzayk7XHJcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0c0FycmF5KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKG5ld1Rhc2spO1xyXG5cclxuICAgIFxyXG4gICAgLy8gcHJvamVjdHNBcnJheS5wdXNoKHRhc2tUaXRsZS5jaGlsZHJlblswXS50ZXh0Q29udGVudCk7XHJcbiAgICAvLyBjb25zdCB1bmlxdWVQcm9qZWN0cyA9IFsuLi5uZXcgU2V0KHByb2plY3RzQXJyYXkpXTtcclxuICAgIC8vIHByb2plY3RzT2JqZWN0LnRhc2sgPSB1bmlxdWVQcm9qZWN0cztcclxuICAgIC8vIHJlc2V0dGluZyBmb3JtIHZhbHVlXHJcbiAgICB0YXNrRm9ybU5hbWUudmFsdWUgPSBcIlwiO1xyXG4gICAgdGFza0Zvcm1EYXRlLnZhbHVlID0gbmV3IERhdGUoKS50b0pTT04oKS5zbGljZSgwLDEwKTtcclxuICAgIHRhc2tGb3JtVHlwZS52YWx1ZSA9IFwiTm9ybWFsXCI7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhwcm9qZWN0c0FycmF5KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHByb2plY3RzT2JqZWN0KTtcclxuICAgIGVkaXRUYXNrKCk7XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5cclxuXHJcbmNvbnN0IGFkZE5ld1Rhc2tFdmVudCA9ICgpPT57XHJcbiAgICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFzay1idXR0b25cIik7XHJcbiAgICBjb25zdCBjYW5jZWxUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWwtdGFzay1idXR0b25cIik7XHJcbiAgICBjb25zdCBhZGRLZXlWZXJ0aWNhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmVydGljYWxcIik7XHJcbiAgICBjb25zdCBhZGRLZXlIb3Jpem9udG9sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob3Jpem9udG9sXCIpO1xyXG5cclxuICAgIGFkZFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKT0+e1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBhZGROZXdUYXNrKCk7XHJcbiAgICAgICAgY29uc3QgYWRkVGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrLWZvcm1cIik7XHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgYWRkVGFza0Zvcm0uY2xhc3NMaXN0LnJlbW92ZShcImFkZGluZ1wiKTtcclxuICAgICAgICAvLyByZXNldHRpbmcgcGx1cyBidXR0b24gYW5kIG1haW4gY29udGFpbmVyXHJcbiAgICAgICAgYWRkS2V5VmVydGljYWwuY2xhc3NMaXN0LnJlbW92ZShcImFkZGluZ1wiKTtcclxuICAgICAgICBhZGRLZXlIb3Jpem9udG9sLmNsYXNzTGlzdC5yZW1vdmUoXCJhZGRpbmdcIik7Ly8gYW5pbWF0aW9uIGZvciBhZGQgaWNvbiBcclxuICAgICAgICBjb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcclxuICAgICAgICBtYWluQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgfSlcclxuXHJcbiAgICBjYW5jZWxUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSk9PntcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgYWRkS2V5VmVydGljYWwuY2xhc3NMaXN0LnJlbW92ZShcImFkZGluZ1wiKTtcclxuICAgICAgICBhZGRLZXlIb3Jpem9udG9sLmNsYXNzTGlzdC5yZW1vdmUoXCJhZGRpbmdcIik7Ly8gYW5pbWF0aW9uIGZvciBhZGQgaWNvbiBcclxuICAgICAgICBjb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcclxuICAgICAgICBtYWluQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgICAgICgoKGNhbmNlbFRhc2tCdXR0b24ucGFyZW50Tm9kZSkucGFyZW50Tm9kZSkucGFyZW50Tm9kZSkuY2xhc3NMaXN0LnJlbW92ZShcImFkZGluZ1wiKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvcHJlZmVyLWRlZmF1bHQtZXhwb3J0XHJcbmV4cG9ydCB7YWRkTmV3VGFza0V2ZW50LCBwcm9qZWN0c0FycmF5LCBUYXNrLCBjaGVja1Rhc2tFeGlzdHN9OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVpcmVkQXJncyhyZXF1aXJlZCwgYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggPCByZXF1aXJlZCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocmVxdWlyZWQgKyAnIGFyZ3VtZW50JyArIChyZXF1aXJlZCA+IDEgPyAncycgOiAnJykgKyAnIHJlcXVpcmVkLCBidXQgb25seSAnICsgYXJncy5sZW5ndGggKyAnIHByZXNlbnQnKTtcbiAgfVxufSIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7IC8vIENsb25lIHRoZSBkYXRlXG5cbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fCBfdHlwZW9mKGFyZ3VtZW50KSA9PT0gJ29iamVjdCcgJiYgYXJnU3RyID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQuZ2V0VGltZSgpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICdudW1iZXInIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgTnVtYmVyXScpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGlmICgodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nKSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXCJTdGFydGluZyB3aXRoIHYyLjAuMC1iZXRhLjEgZGF0ZS1mbnMgZG9lc24ndCBhY2NlcHQgc3RyaW5ncyBhcyBkYXRlIGFyZ3VtZW50cy4gUGxlYXNlIHVzZSBgcGFyc2VJU09gIHRvIHBhcnNlIHN0cmluZ3MuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI3N0cmluZy1hcmd1bWVudHNcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cbiAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0ludGVnZXIoZGlydHlOdW1iZXIpIHtcbiAgaWYgKGRpcnR5TnVtYmVyID09PSBudWxsIHx8IGRpcnR5TnVtYmVyID09PSB0cnVlIHx8IGRpcnR5TnVtYmVyID09PSBmYWxzZSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICB2YXIgbnVtYmVyID0gTnVtYmVyKGRpcnR5TnVtYmVyKTtcblxuICBpZiAoaXNOYU4obnVtYmVyKSkge1xuICAgIHJldHVybiBudW1iZXI7XG4gIH1cblxuICByZXR1cm4gbnVtYmVyIDwgMCA/IE1hdGguY2VpbChudW1iZXIpIDogTWF0aC5mbG9vcihudW1iZXIpO1xufSIsInZhciBkZWZhdWx0T3B0aW9ucyA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb25zKCkge1xuICByZXR1cm4gZGVmYXVsdE9wdGlvbnM7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdE9wdGlvbnMobmV3T3B0aW9ucykge1xuICBkZWZhdWx0T3B0aW9ucyA9IG5ld09wdGlvbnM7XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgdG9JbnRlZ2VyIGZyb20gXCIuLi9fbGliL3RvSW50ZWdlci9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4uL19saWIvZGVmYXVsdE9wdGlvbnMvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgc3RhcnRPZldlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqIEBwYXJhbSB7TG9jYWxlfSBbb3B0aW9ucy5sb2NhbGU9ZGVmYXVsdExvY2FsZV0gLSB0aGUgbG9jYWxlIG9iamVjdC4gU2VlIFtMb2NhbGVde0BsaW5rIGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvTG9jYWxlfVxuICogQHBhcmFtIHswfDF8MnwzfDR8NXw2fSBbb3B0aW9ucy53ZWVrU3RhcnRzT249MF0gLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayAoMCAtIFN1bmRheSlcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgc3RhcnQgb2YgYSB3ZWVrXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLndlZWtTdGFydHNPbmAgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDZcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFN1biBBdWcgMzEgMjAxNCAwMDowMDowMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0aGUgd2VlayBzdGFydHMgb24gTW9uZGF5LCB0aGUgc3RhcnQgb2YgdGhlIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApLCB7IHdlZWtTdGFydHNPbjogMSB9KVxuICogLy89PiBNb24gU2VwIDAxIDIwMTQgMDA6MDA6MDBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mV2VlayhkaXJ0eURhdGUsIG9wdGlvbnMpIHtcbiAgdmFyIF9yZWYsIF9yZWYyLCBfcmVmMywgX29wdGlvbnMkd2Vla1N0YXJ0c09uLCBfb3B0aW9ucyRsb2NhbGUsIF9vcHRpb25zJGxvY2FsZSRvcHRpbywgX2RlZmF1bHRPcHRpb25zJGxvY2FsLCBfZGVmYXVsdE9wdGlvbnMkbG9jYWwyO1xuXG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICB2YXIgd2Vla1N0YXJ0c09uID0gdG9JbnRlZ2VyKChfcmVmID0gKF9yZWYyID0gKF9yZWYzID0gKF9vcHRpb25zJHdlZWtTdGFydHNPbiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53ZWVrU3RhcnRzT24pICE9PSBudWxsICYmIF9vcHRpb25zJHdlZWtTdGFydHNPbiAhPT0gdm9pZCAwID8gX29wdGlvbnMkd2Vla1N0YXJ0c09uIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29wdGlvbnMkbG9jYWxlID0gb3B0aW9ucy5sb2NhbGUpID09PSBudWxsIHx8IF9vcHRpb25zJGxvY2FsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9vcHRpb25zJGxvY2FsZSRvcHRpbyA9IF9vcHRpb25zJGxvY2FsZS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9ucyRsb2NhbGUkb3B0aW8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zJGxvY2FsZSRvcHRpby53ZWVrU3RhcnRzT24pICE9PSBudWxsICYmIF9yZWYzICE9PSB2b2lkIDAgPyBfcmVmMyA6IGRlZmF1bHRPcHRpb25zLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX3JlZjIgIT09IHZvaWQgMCA/IF9yZWYyIDogKF9kZWZhdWx0T3B0aW9ucyRsb2NhbCA9IGRlZmF1bHRPcHRpb25zLmxvY2FsZSkgPT09IG51bGwgfHwgX2RlZmF1bHRPcHRpb25zJGxvY2FsID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2RlZmF1bHRPcHRpb25zJGxvY2FsMiA9IF9kZWZhdWx0T3B0aW9ucyRsb2NhbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZGVmYXVsdE9wdGlvbnMkbG9jYWwyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGVmYXVsdE9wdGlvbnMkbG9jYWwyLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX3JlZiAhPT0gdm9pZCAwID8gX3JlZiA6IDApOyAvLyBUZXN0IGlmIHdlZWtTdGFydHNPbiBpcyBiZXR3ZWVuIDAgYW5kIDYgX2FuZF8gaXMgbm90IE5hTlxuXG4gIGlmICghKHdlZWtTdGFydHNPbiA+PSAwICYmIHdlZWtTdGFydHNPbiA8PSA2KSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd3ZWVrU3RhcnRzT24gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDYgaW5jbHVzaXZlbHknKTtcbiAgfVxuXG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuICB2YXIgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyA3IDogMCkgKyBkYXkgLSB3ZWVrU3RhcnRzT247XG4gIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGRpZmYpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgc3RhcnRPZldlZWsgZnJvbSBcIi4uL3N0YXJ0T2ZXZWVrL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzU2FtZVdlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgd2VlayAoYW5kIG1vbnRoIGFuZCB5ZWFyKT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgd2VlayAoYW5kIG1vbnRoIGFuZCB5ZWFyKT9cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBmaXJzdCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgc2Vjb25kIGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHtMb2NhbGV9IFtvcHRpb25zLmxvY2FsZT1kZWZhdWx0TG9jYWxlXSAtIHRoZSBsb2NhbGUgb2JqZWN0LiBTZWUgW0xvY2FsZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9Mb2NhbGV9XG4gKiBAcGFyYW0gezB8MXwyfDN8NHw1fDZ9IFtvcHRpb25zLndlZWtTdGFydHNPbj0wXSAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrICgwIC0gU3VuZGF5KVxuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgd2VlayAoYW5kIG1vbnRoIGFuZCB5ZWFyKVxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMud2Vla1N0YXJ0c09uYCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgMzEgQXVndXN0IDIwMTQgYW5kIDQgU2VwdGVtYmVyIDIwMTQgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB3ZWVrIHN0YXJ0cyB3aXRoIE1vbmRheSxcbiAqIC8vIGFyZSAzMSBBdWd1c3QgMjAxNCBhbmQgNCBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lV2VlayhuZXcgRGF0ZSgyMDE0LCA3LCAzMSksIG5ldyBEYXRlKDIwMTQsIDgsIDQpLCB7XG4gKiAgIHdlZWtTdGFydHNPbjogMVxuICogfSlcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDEgSmFudWFyeSAyMDE0IGFuZCAxIEphbnVhcnkgMjAxNSBpbiB0aGUgc2FtZSB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lV2VlayhuZXcgRGF0ZSgyMDE0LCAwLCAxKSwgbmV3IERhdGUoMjAxNSwgMCwgMSkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzU2FtZVdlZWsoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQsIG9wdGlvbnMpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlTGVmdFN0YXJ0T2ZXZWVrID0gc3RhcnRPZldlZWsoZGlydHlEYXRlTGVmdCwgb3B0aW9ucyk7XG4gIHZhciBkYXRlUmlnaHRTdGFydE9mV2VlayA9IHN0YXJ0T2ZXZWVrKGRpcnR5RGF0ZVJpZ2h0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGRhdGVMZWZ0U3RhcnRPZldlZWsuZ2V0VGltZSgpID09PSBkYXRlUmlnaHRTdGFydE9mV2Vlay5nZXRUaW1lKCk7XG59IiwiaW1wb3J0IGlzU2FtZVdlZWsgZnJvbSBcIi4uL2lzU2FtZVdlZWsvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGlzU2FtZUlTT1dlZWtcbiAqIEBjYXRlZ29yeSBJU08gV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIElTTyB3ZWVrIChhbmQgeWVhcik/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIElTTyB3ZWVrIChhbmQgeWVhcik/XG4gKlxuICogSVNPIHdlZWstbnVtYmVyaW5nIHllYXI6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVMZWZ0IC0gdGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVSaWdodCAtIHRoZSBzZWNvbmQgZGF0ZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgSVNPIHdlZWsgKGFuZCB5ZWFyKVxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgMSBTZXB0ZW1iZXIgMjAxNCBhbmQgNyBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSBJU08gd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZUlTT1dlZWsobmV3IERhdGUoMjAxNCwgOCwgMSksIG5ldyBEYXRlKDIwMTQsIDgsIDcpKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAxIFNlcHRlbWJlciAyMDE0IGFuZCAxIFNlcHRlbWJlciAyMDE1IGluIHRoZSBzYW1lIElTTyB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lSVNPV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAxKSwgbmV3IERhdGUoMjAxNSwgOCwgMSkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTYW1lSVNPV2VlayhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGlzU2FtZVdlZWsoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQsIHtcbiAgICB3ZWVrU3RhcnRzT246IDFcbiAgfSk7XG59IiwiaW1wb3J0IGlzU2FtZUlTT1dlZWsgZnJvbSBcImRhdGUtZm5zL2lzU2FtZUlTT1dlZWtcIjtcclxuaW1wb3J0IGVkaXRUYXNrIGZyb20gXCIuL2VkaXRUYXNrRGV0YWlsc1wiO1xyXG5pbXBvcnQgeyBjaGVja1Rhc2tFeGlzdHMsIHByb2plY3RzQXJyYXksIFRhc2sgfSBmcm9tIFwiLi90YXNrQWRkXCI7XHJcblxyXG5cclxuY29uc3QgdGFza3NTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrc1wiKTtcclxuY29uc3QgdGFza1Byb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWxpc3RcIikuY2hpbGRyZW5bMF07XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhc2tcIik7XHJcblxyXG5jb25zdCBnZXRBbGxUYXNrPSAoKT0+e1xyXG4gICAgY29uc3QgYWxsVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWxsLXRhc2tcIik7XHJcbiAgICBhbGxUYXNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCgpPT57XHJcbiAgICAgICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG4gICAgICAgIGFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcclxuICAgICAgICB3aGlsZSh0YXNrc1NlY3Rpb24uY2hpbGRFbGVtZW50Q291bnQ+MSl7Ly8gcmVtb3ZlcyB0aGUgY3VycmVudCBwcm9qZWN0cyB0YXNrcyBmb3IgbmV3IHNlbGVjdGVkIHByb2plY3RcclxuICAgICAgICAgICAgdGFza3NTZWN0aW9uLmxhc3RDaGlsZC5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFza1Byb2plY3ROYW1lLnRleHRDb250ZW50ID0gXCJBbGwgVGFza1wiO1xyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8cHJvamVjdHNBcnJheS5sZW5ndGg7aSs9MSl7Ly8gdGFza2VzIHZhbHVlIGZyb20gYXJyYXkgYW5kIGFwcGVuZHMgdGhlIGFsbCBwcm9qZWN0cyB0YXNrXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayhwcm9qZWN0c0FycmF5W2ldLnByb2plY3QscHJvamVjdHNBcnJheVtpXS50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0FycmF5W2ldLmRhdGUscHJvamVjdHNBcnJheVtpXS50eXBlLCBwcm9qZWN0c0FycmF5W2ldLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIG5ld1Rhc2suYWRkaW5nTmV3VGFzaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja1Rhc2tFeGlzdHMoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBnZXRUb2RheVRhc2tzID0gKCk9PntcclxuICAgIGNvbnN0IHRvZGF5VGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZGF5XCIpO1xyXG4gICAgdG9kYXlUYXNrcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICBhZGRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XHJcbiAgICAgICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xyXG4gICAgICAgIHdoaWxlKHRhc2tzU2VjdGlvbi5jaGlsZEVsZW1lbnRDb3VudD4xKXsvLyByZW1vdmVzIHRoZSBjdXJyZW50IHByb2plY3RzIHRhc2tzIGZvciBuZXcgc2VsZWN0ZWQgcHJvamVjdFxyXG4gICAgICAgICAgICB0YXNrc1NlY3Rpb24ubGFzdENoaWxkLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXNrUHJvamVjdE5hbWUudGV4dENvbnRlbnQgPSBcIlRvZGF5XCI7XHJcbiAgICAgICAgY29uc3QgdG9kYXlzRGF0ZSA9IG5ldyBEYXRlKCkudG9KU09OKCkuc2xpY2UoMCwxMCk7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTxwcm9qZWN0c0FycmF5Lmxlbmd0aDtpKz0xKXsvLyB0YXNrZXMgdmFsdWUgZnJvbSBhcnJheSBhbmQgYXBwZW5kcyB0aGUgc2VsZWNldGVkIHByb2plY3RzIHRhc2tcclxuICAgICAgICAgICAgaWYodG9kYXlzRGF0ZSA9PT0gcHJvamVjdHNBcnJheVtpXS5kYXRlKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayhwcm9qZWN0c0FycmF5W2ldLnByb2plY3QscHJvamVjdHNBcnJheVtpXS50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0FycmF5W2ldLmRhdGUscHJvamVjdHNBcnJheVtpXS50eXBlLCBwcm9qZWN0c0FycmF5W2ldLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBuZXdUYXNrLmFkZGluZ05ld1Rhc2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja1Rhc2tFeGlzdHMoKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IGdldFdlZWtUYXNrcyA9ICgpPT57XHJcbiAgICBjb25zdCB3ZWVrVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRoaXMtd2Vla1wiKTtcclxuICAgIHdlZWtUYXNrcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PntcclxuICAgICAgICBhZGRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XHJcbiAgICAgICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xyXG4gICAgICAgIHdoaWxlKHRhc2tzU2VjdGlvbi5jaGlsZEVsZW1lbnRDb3VudD4xKXsvLyByZW1vdmVzIHRoZSBjdXJyZW50IHByb2plY3RzIHRhc2tzIGZvciBuZXcgc2VsZWN0ZWQgcHJvamVjdFxyXG4gICAgICAgICAgICB0YXNrc1NlY3Rpb24ubGFzdENoaWxkLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXNrUHJvamVjdE5hbWUudGV4dENvbnRlbnQgPSBcIlRoaXMgV2Vla1wiO1xyXG4gICAgICAgIGNvbnN0IHRvZGF5c0RhdGUgPSBuZXcgRGF0ZSgpLnRvSlNPTigpLnNsaWNlKDAsMTApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8cHJvamVjdHNBcnJheS5sZW5ndGg7aSs9MSl7Ly8gdGFza2VzIHZhbHVlIGZyb20gYXJyYXkgYW5kIGFwcGVuZHMgdGhlIHNlbGVjZXRlZCBwcm9qZWN0cyB0YXNrXHJcbiAgICAgICAgICAgIGNvbnN0IGdldERhdGUgPSBwcm9qZWN0c0FycmF5W2ldLmRhdGUuc3BsaXQoXCItXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBnZXRUb2RheXNEYXRlID0gdG9kYXlzRGF0ZS5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgICAgIGlmKGlzU2FtZUlTT1dlZWsobmV3IERhdGUoZ2V0VG9kYXlzRGF0ZVswXSwgZ2V0VG9kYXlzRGF0ZVsxXSwgZ2V0VG9kYXlzRGF0ZVsyXSksIFxyXG4gICAgICAgICAgICBuZXcgRGF0ZShnZXREYXRlWzBdLCBnZXREYXRlWzFdLCBnZXREYXRlWzJdKSkpe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKHByb2plY3RzQXJyYXlbaV0ucHJvamVjdCxwcm9qZWN0c0FycmF5W2ldLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RzQXJyYXlbaV0uZGF0ZSxwcm9qZWN0c0FycmF5W2ldLnR5cGUsIHByb2plY3RzQXJyYXlbaV0uc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIG5ld1Rhc2suYWRkaW5nTmV3VGFzaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoZWNrVGFza0V4aXN0cygpO1xyXG4gICAgfSlcclxufVxyXG5leHBvcnQge2dldEFsbFRhc2ssIGdldFRvZGF5VGFza3MsIGdldFdlZWtUYXNrcywgYWRkQnV0dG9ufTsiLCJpbXBvcnQgdGFza0ljb24gZnJvbSBcIi4vaW1hZ2VzL3Rhc2tfRklMTDBfd2dodDQwMF9HUkFEMF9vcHN6NDgucG5nXCI7XHJcbmltcG9ydCBjcm9zc0ljb24gZnJvbSBcIi4vaW1hZ2VzL2Nyb3NzLnBuZ1wiO1xyXG5pbXBvcnQgeyBUYXNrLCBwcm9qZWN0c0FycmF5LCBjaGVja1Rhc2tFeGlzdHMgfSBmcm9tIFwiLi90YXNrQWRkXCI7XHJcbmltcG9ydCB7IGFkZEJ1dHRvbiBhcyBwbHVzQnV0dG9uIH0gZnJvbSBcIi4vdGltZVdpc2VUYXNrc1wiO1xyXG5pbXBvcnQgZWRpdFRhc2sgZnJvbSBcIi4vZWRpdFRhc2tEZXRhaWxzXCI7XHJcblxyXG5jb25zdCBhZGROZXdQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdFwiKTtcclxuY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtZm9ybVwiKTtcclxuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBuZXdQcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXByb2plY3RzXCIpO1xyXG5jb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNsZS1idXR0b25cIik7XHJcbmNvbnN0IHRhc2tzU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza3NcIik7XHJcbmNvbnN0IHByb2plY3RzTmFtZSA9IFtdO1xyXG5cclxuXHJcbmNvbnN0IHN0aCA9ICgpPT57XHJcbiAgICB3aGlsZSh0YXNrc1NlY3Rpb24uY2hpbGRFbGVtZW50Q291bnQ+MSl7Ly8gcmVtb3ZlcyB0aGUgY3VycmVudCBwcm9qZWN0cyB0YXNrcyBmb3IgbmV3IHNlbGVjdGVkIHByb2plY3RcclxuICAgICAgICB0YXNrc1NlY3Rpb24ubGFzdENoaWxkLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdGFza1Byb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWxpc3RcIikuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQ7XHJcbiAgICBmb3IobGV0IGk9MDtpPHByb2plY3RzQXJyYXkubGVuZ3RoO2krPTEpey8vIHRhc2tlcyB2YWx1ZSBmcm9tIGFycmF5IGFuZCBhcHBlbmRzIHRoZSBzZWxlY2V0ZWQgcHJvamVjdHMgdGFza1xyXG4gICAgICAgIGlmKHRhc2tQcm9qZWN0TmFtZSA9PT0gcHJvamVjdHNBcnJheVtpXS5wcm9qZWN0KXtcclxuICAgICAgICAgICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKHByb2plY3RzQXJyYXlbaV0ucHJvamVjdCxwcm9qZWN0c0FycmF5W2ldLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgcHJvamVjdHNBcnJheVtpXS5kYXRlLHByb2plY3RzQXJyYXlbaV0udHlwZSwgcHJvamVjdHNBcnJheVtpXS5zdGF0dXMpO1xyXG4gICAgICAgICAgICBuZXdUYXNrLmFkZGluZ05ld1Rhc2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGVja1Rhc2tFeGlzdHMoKTtcclxufVxyXG5cclxuY29uc3QgYWNjZXNzUHJvamVjdHMgPSAoKT0+eyAvLyBhY2Nlc3MgbmFtZXMgb2YgcHJvamVjdHNcclxuICAgIGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNwcm9qZWN0XCIpO1xyXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWxpc3RcIik7XHJcbiAgICBwcm9qZWN0cy5mb3JFYWNoKChwcm9qZWN0KT0+e1xyXG4gICAgICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT57XHJcbiAgICAgICAgICAgIHBsdXNCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XHJcbiAgICAgICAgICAgIGlmKHByb2plY3RUaXRsZS5jaGlsZE5vZGVzWzFdLnRleHRDb250ZW50ID09PSBwcm9qZWN0LnRleHRDb250ZW50KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIHByb2plY3RUaXRsZS5jaGlsZE5vZGVzWzFdLnRleHRDb250ZW50ID0gcHJvamVjdC50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgc3RoKCk7XHJcbiAgICAgICAgICAgIGVkaXRUYXNrKCk7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuY29uc3QgYWRkUHJvamVjdCA9ICgpPT57Ly8gY3JlYXRlcyBuZXcgcHJvamVjdCBkaXYgYW5kIGFwcGVuZHMgYmVmb3JlIHRoZSBhZGQgYnV0dG9uXHJcbiAgICBjb25zdCBuZXdQcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdEFkZFBvcHVwXCIpO1xyXG5cclxuICAgIGlmKG5ld1Byb2plY3ROYW1lLnZhbHVlID09PSBcIlwiKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IobGV0IGk9MDtpPHByb2plY3RzTmFtZS5sZW5ndGg7aSs9MSl7Ly8gY2hlY2sgaWYgdGhlIHByb2plY3QgYWxyZWFkeSBleGlzdHNcclxuICAgICAgICBpZihuZXdQcm9qZWN0TmFtZS52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBwcm9qZWN0c05hbWVbaV0pe1xyXG4gICAgICAgICAgICBuZXdQcm9qZWN0TmFtZS5zdHlsZS5ib3JkZXJDb2xvciA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3UHJvamVjdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBuZXdQcm9qZWN0RGl2LmNsYXNzTGlzdC5hZGQoXCJuZXctcHJvamVjdC10aXRsZVwiKVxyXG4gICAgbmV3UHJvamVjdHMuaW5zZXJ0QmVmb3JlKG5ld1Byb2plY3REaXYsIG5ld1Byb2plY3RzLmNoaWxkcmVuW25ld1Byb2plY3RzLmNoaWxkRWxlbWVudENvdW50LTFdKTtcclxuXHJcbiAgICBjb25zdCBuZXdQcm9qZWN0SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIG5ld1Byb2plY3RJbWFnZS5zcmMgPSB0YXNrSWNvbjtcclxuICAgIG5ld1Byb2plY3REaXYuYXBwZW5kQ2hpbGQobmV3UHJvamVjdEltYWdlKTtcclxuXHJcbiAgICBjb25zdCBuZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIG5ld1Byb2plY3RCdXR0b24uaWQgPSBcInByb2plY3RcIjtcclxuICAgIG5ld1Byb2plY3RCdXR0b24udGV4dENvbnRlbnQgPSBuZXdQcm9qZWN0TmFtZS52YWx1ZTtcclxuICAgIG5ld1Byb2plY3REaXYuYXBwZW5kQ2hpbGQobmV3UHJvamVjdEJ1dHRvbik7XHJcblxyXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWxpc3RcIik7XHJcbiAgICBwcm9qZWN0VGl0bGUuY2hpbGROb2Rlc1sxXS50ZXh0Q29udGVudCA9IG5ld1Byb2plY3ROYW1lLnZhbHVlO1xyXG4gICAgc3RoKCk7XHJcbiAgICBwcm9qZWN0c05hbWUucHVzaChuZXdQcm9qZWN0TmFtZS52YWx1ZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHByb2plY3RzTmFtZSk7XHJcbiAgICBwbHVzQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG5cclxuICAgIG5ld1Byb2plY3ROYW1lLnZhbHVlPSBcIlwiO1xyXG4gICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcblxyXG4gICAgY29uc3QgY3Jvc3NJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgY3Jvc3NJbWFnZS5zcmMgPSBjcm9zc0ljb247XHJcbiAgICBuZXdQcm9qZWN0RGl2LmFwcGVuZENoaWxkKGNyb3NzSW1hZ2UpO1xyXG5cclxuICAgIGNyb3NzSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT57XHJcbiAgICAgICAgY29uc3QgZGVsZXRlZFByb2plY3ROYW1lID0gKGNyb3NzSW1hZ2UucGFyZW50Tm9kZSkuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgaWYodGFza3NTZWN0aW9uLmNoaWxkRWxlbWVudENvdW50ID09PSAxKXtcclxuICAgICAgICAgICAgKGNyb3NzSW1hZ2UucGFyZW50Tm9kZSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHByb2plY3RUaXRsZS5jaGlsZE5vZGVzWzFdLnRleHRDb250ZW50ID0gXCJDYXN1YWxcIjtcclxuICAgICAgICAgICAgc3RoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8PXByb2plY3RzQXJyYXkubGVuZ3RoO2krPTEpey8vIHdoZW4gcHJvamVjdCBpcyBkZWxldGVkIHRoZSBwcm9qZWN0J3MgYWxsIHRhc2sgZ2V0cyBkZWxldGVkXHJcbiAgICAgICAgICAgICAgICBpZihkZWxldGVkUHJvamVjdE5hbWUgPT09IHByb2plY3RzQXJyYXlbaV0ucHJvamVjdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNBcnJheS5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yKGxldCBpID0wOyBpPD1wcm9qZWN0c05hbWUubGVuZ3RoO2krPTEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGVsZXRlZFByb2plY3ROYW1lID09PSBwcm9qZWN0c05hbWVbaV0pe1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RzTmFtZS5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAoY3Jvc3NJbWFnZS5wYXJlbnROb2RlKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgLy8gd2hlbiBhIHByb2plY3QgZ2V0cyBkZWxldGVkIHByb2plY3QgZ2V0cyBiYWNrIHRvIENhc3VhbFxyXG4gICAgICAgICAgICBwcm9qZWN0VGl0bGUuY2hpbGROb2Rlc1sxXS50ZXh0Q29udGVudCA9IFwiQ2FzdWFsXCI7XHJcbiAgICAgICAgICAgIHN0aCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBhY2Nlc3NQcm9qZWN0cygpO1xyXG4gICAgcmV0dXJuIDA7XHJcbn1cclxuXHJcbmNvbnN0IHByb2plY3RBZGRpbmdFdmVudHMgPSgpPT57XHJcbiAgICBhZGROZXdQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+e1xyXG4gICAgICAgIHByb2plY3RGb3JtLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpOy8vIGZvcm0gZm9yIG5ldyBwcm9qZWN0IFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT57XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGFkZFByb2plY3QoKTsvLyBzdWJtaXRzIGZvcm1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT57XHJcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RBZGRQb3B1cFwiKVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBwcm9qZWN0Rm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcclxuICAgICAgICBuZXdQcm9qZWN0TmFtZS52YWx1ZT0gXCJcIjsgLy8gY2FuY2VscyB0aGUgZm9ybSBleGVjdXRpb25cclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQge2FjY2Vzc1Byb2plY3RzLCBwcm9qZWN0QWRkaW5nRXZlbnRzfVxyXG5leHBvcnQge3Byb2plY3RGb3JtLCBuZXdQcm9qZWN0c307IiwiaW1wb3J0IHtwcm9qZWN0Rm9ybSxuZXdQcm9qZWN0c30gZnJvbSBcIi4vcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBnZXRBbGxUYXNrLCBnZXRUb2RheVRhc2tzLCBnZXRXZWVrVGFza3MgfSBmcm9tIFwiLi90aW1lV2lzZVRhc2tzXCI7XHJcblxyXG5jb25zdCBET01hbmltYXRpb24gPSAoKT0+e1xyXG4gICAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudVwiKTtcclxuICAgIGNvbnN0IG5hdkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIik7XHJcbiAgICBjb25zdCB0YXNrQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1saXN0XCIpO1xyXG4gICAgY29uc3QgdGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzXCIpO1xyXG4gICAgY29uc3QgdGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza1wiKTtcclxuICAgIGNvbnN0IGFkZEtleSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhc2tcIilcclxuICAgIGNvbnN0IGFkZEtleVZlcnRpY2FsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52ZXJ0aWNhbFwiKTtcclxuICAgIGNvbnN0IGFkZEtleUhvcml6b250b2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvcml6b250b2xcIik7XHJcbiAgICBjb25zdCBhZGRUYXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhc2stZm9ybVwiKTtcclxuXHJcbiAgICB0YXNrQXJlYS5jaGlsZHJlblswXS50ZXh0Q29udGVudCA9IFwiQ2FzdWFsXCI7XHJcbiAgICBtZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+eyAvLyBmb3IgbWVudSBiYXIgdmlzaWJsZVxyXG4gICAgICAgIGlmKG5ld1Byb2plY3RzLmNoaWxkRWxlbWVudENvdW50ID4yKXtcclxuICAgICAgICAgICAgY29uc3QgbmV3UHJvamVjdERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3LXByb2plY3QtdGl0bGVcIik7XHJcbiAgICAgICAgICAgIG5ld1Byb2plY3REaXYuZm9yRWFjaCgoeCk9PntcclxuICAgICAgICAgICAgICAgIHguY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7Ly8gZm9yIHJlbW92aW5nIHRoZSBuZXdQcm9qZWN0c0Zvcm0gd2l0aCBtZW51IGNsb3NpbmdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiY2hhbmdlXCIpO1xyXG4gICAgICAgIG5hdkJhci5jbGFzc0xpc3QudG9nZ2xlKFwic2hvd1wiKTsgICAgXHJcbiAgICAgICAgdGFza0FyZWEuY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbiAgICAgICAgYWRkVGFza0Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbiAgICAgICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcbiAgICAgICAgdGFza3MuY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbiAgICAgICAgdGFzay5jbGFzc0xpc3QudG9nZ2xlKFwic2hvd1wiKTtcclxuICAgICAgICBcclxuICAgIH0pO1xyXG5cclxuICAgIGFkZEtleS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PnsgLy8gZm9yIGFkZGluZyB0YXNrIFxyXG4gICAgICAgIGFkZEtleVZlcnRpY2FsLmNsYXNzTGlzdC50b2dnbGUoXCJhZGRpbmdcIik7XHJcbiAgICAgICAgYWRkS2V5SG9yaXpvbnRvbC5jbGFzc0xpc3QudG9nZ2xlKFwiYWRkaW5nXCIpOy8vIGFuaW1hdGlvbiBmb3IgYWRkIGljb25cclxuICAgICAgICBhZGRUYXNrRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwiYWRkaW5nXCIpOy8vIG1ha2VzIHRhc2sgZm9ybSB2aXNpYmxlXHJcblxyXG4gICAgICAgICgobWVudS5wYXJlbnROb2RlKS5wYXJlbnROb2RlKS5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKVxyXG5cclxuICAgICAgICAvLyB3aGVuIGZvcm0gb3BlbnMgZGF0ZSBpcyBzZXQgaW5pdGlhbGx5IHRvIHRvZGF5cyBkYXRlXHJcbiAgICAgICAgY29uc3QgdGFza0Zvcm1EYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWRhdGVcIik7XHJcbiAgICAgICAgdGFza0Zvcm1EYXRlLnZhbHVlID0gbmV3IERhdGUoKS50b0pTT04oKS5zbGljZSgwLDEwKTtcclxuICAgIH0pO1xyXG4gICAgZ2V0QWxsVGFzaygpO1xyXG4gICAgZ2V0VG9kYXlUYXNrcygpO1xyXG4gICAgZ2V0V2Vla1Rhc2tzKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERPTWFuaW1hdGlvbjsiLCJpbXBvcnQgRE9NYW5pbWF0aW9uIGZyb20gXCIuL21vZHVsZXMvaW5pdGlhbERPTVwiO1xyXG5pbXBvcnQgeyBhY2Nlc3NQcm9qZWN0cywgcHJvamVjdEFkZGluZ0V2ZW50cyB9IGZyb20gXCIuL21vZHVsZXMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBhZGROZXdUYXNrRXZlbnQgfSBmcm9tIFwiLi9tb2R1bGVzL3Rhc2tBZGRcIjtcclxuXHJcblxyXG5ET01hbmltYXRpb24oKTtcclxuYWNjZXNzUHJvamVjdHMoKTtcclxucHJvamVjdEFkZGluZ0V2ZW50cygpO1xyXG5hZGROZXdUYXNrRXZlbnQoKTtcclxuXHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImVkaXRGb3JtIiwicXVlcnlTZWxlY3RvciIsIm1haW5Db250YWluZXIiLCJlZGl0SWNvbiIsInRhc2tQcm9qZWN0TmFtZSIsImNoaWxkcmVuIiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwib2xkTmFtZSIsIm9sZERhdGUiLCJvbGRUeXBlIiwiZWRpdE5hbWUiLCJlZGl0RGF0ZSIsImVkaXRUeXBlIiwiZWRpdEJ1dHRvbiIsInZhbHVlIiwiRGF0ZSIsInRvSlNPTiIsInNsaWNlIiwicHJldmVudERlZmF1bHQiLCJpIiwicHJvamVjdHNBcnJheSIsInRvTG93ZXJDYXNlIiwidGl0bGUiLCJkYXRlIiwidHlwZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImNoZWNrVGFza0V4aXN0cyIsInRhc2tzU2VjdGlvbiIsImJnSW1hZ2UiLCJjaGlsZEVsZW1lbnRDb3VudCIsIlRhc2siLCJjb25zdHJ1Y3RvciIsInByb2plY3QiLCJzdGF0dXMiLCJhZGRpbmdOZXdUYXNrIiwibmV3VGFza0RpdiIsImNyZWF0ZUVsZW1lbnQiLCJ0YXNrTmFtZSIsInRhc2tEYXRlIiwidGFza1N0YXR1cyIsInRhc2tCdXR0b25zIiwiZG9uZUljb24iLCJJbWFnZSIsImRlbGV0ZUljb24iLCJhcHBlbmRDaGlsZCIsImNvbXBsZXRlZFRhc2tUaXRsZSIsInRvZ2dsZSIsInJlbW92ZWRUYXNrVGl0bGUiLCJzcGxpY2UiLCJyZXF1aXJlZEFyZ3MiLCJyZXF1aXJlZCIsImFyZ3MiLCJUeXBlRXJyb3IiLCJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJwcm90b3R5cGUiLCJ0b0RhdGUiLCJhcmd1bWVudCIsImFyZ3VtZW50cyIsImFyZ1N0ciIsIk9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsImdldFRpbWUiLCJjb25zb2xlIiwid2FybiIsInN0YWNrIiwiTmFOIiwidG9JbnRlZ2VyIiwiZGlydHlOdW1iZXIiLCJudW1iZXIiLCJOdW1iZXIiLCJpc05hTiIsIk1hdGgiLCJjZWlsIiwiZmxvb3IiLCJkZWZhdWx0T3B0aW9ucyIsImdldERlZmF1bHRPcHRpb25zIiwic3RhcnRPZldlZWsiLCJkaXJ0eURhdGUiLCJvcHRpb25zIiwiX3JlZiIsIl9yZWYyIiwiX3JlZjMiLCJfb3B0aW9ucyR3ZWVrU3RhcnRzT24iLCJfb3B0aW9ucyRsb2NhbGUiLCJfb3B0aW9ucyRsb2NhbGUkb3B0aW8iLCJfZGVmYXVsdE9wdGlvbnMkbG9jYWwiLCJfZGVmYXVsdE9wdGlvbnMkbG9jYWwyIiwid2Vla1N0YXJ0c09uIiwibG9jYWxlIiwiUmFuZ2VFcnJvciIsImRheSIsImdldERheSIsImRpZmYiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInNldEhvdXJzIiwiaXNTYW1lV2VlayIsImRpcnR5RGF0ZUxlZnQiLCJkaXJ0eURhdGVSaWdodCIsImRhdGVMZWZ0U3RhcnRPZldlZWsiLCJkYXRlUmlnaHRTdGFydE9mV2VlayIsImlzU2FtZUlTT1dlZWsiLCJhZGRCdXR0b24iLCJhZGROZXdQcm9qZWN0IiwicHJvamVjdEZvcm0iLCJuZXdQcm9qZWN0cyIsImNhbmNlbEJ1dHRvbiIsInByb2plY3RzTmFtZSIsInN0aCIsImxhc3RDaGlsZCIsImFjY2Vzc1Byb2plY3RzIiwicHJvamVjdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJvamVjdFRpdGxlIiwiZm9yRWFjaCIsImNoaWxkTm9kZXMiLCJtZW51IiwibmF2QmFyIiwidGFza0FyZWEiLCJ0YXNrcyIsInRhc2siLCJhZGRLZXkiLCJhZGRLZXlWZXJ0aWNhbCIsImFkZEtleUhvcml6b250b2wiLCJhZGRUYXNrRm9ybSIsIngiLCJ0b2RheXNEYXRlIiwic3BsaXQiLCJnZXRUb2RheXNEYXRlIiwibmV3UHJvamVjdE5hbWUiLCJzdHlsZSIsImJvcmRlckNvbG9yIiwibmV3UHJvamVjdERpdiIsImluc2VydEJlZm9yZSIsIm5ld1Byb2plY3RJbWFnZSIsIm5ld1Byb2plY3RCdXR0b24iLCJpZCIsInB1c2giLCJjcm9zc0ltYWdlIiwiZGVsZXRlZFByb2plY3ROYW1lIiwiYWRkUHJvamVjdCIsImFkZFRhc2tCdXR0b24iLCJjYW5jZWxUYXNrQnV0dG9uIiwidGFza0Zvcm1OYW1lIiwidGFza0Zvcm1EYXRlIiwidGFza0Zvcm1UeXBlIiwidGFza0Zvcm1OYW1lVmFsdWUiLCJ0YXNrRm9ybURhdGVWYWx1ZSIsInRhc2tGb3JtVHlwZVZhbHVlIiwiYWxlcnQiLCJuZXdUYXNrIiwibG9nIiwiYWRkTmV3VGFzayIsImFkZE5ld1Rhc2tFdmVudCJdLCJzb3VyY2VSb290IjoiIn0=